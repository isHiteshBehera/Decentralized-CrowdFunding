import{cz as jl,co as _t,au as C,dk as Fl,cO as Bl,dl as $l,ad as j,dm as Wl,ct as ko,dn as Hl,dp as p,cF as Vl}from"./index.a1beb9a2.js";import{b as Fr,j as zl,i as Ul}from"./js.7a440077.js";import{s as ql}from"./index.7a8f6772.js";function Jl(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var ks={},Pn={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.walletLogo=void 0;const Ql=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Br.walletLogo=Ql;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.LINK_API_URL=void 0;$r.LINK_API_URL="https://www.walletlink.org";var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.ScopedLocalStorage=void 0;class Gl{constructor(e){this.scope=e}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`${this.scope}:${e}`}}Wr.ScopedLocalStorage=Gl;var Kt={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});const Zl=jl.exports;function Io(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function Kl(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class Yl extends Zl.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Io(s,this,n);else{const o=s.length,a=Kl(s);for(let c=0;c<o;c+=1)Io(a[c],this,n)}return!0}}Dt.default=Yl;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.EVENTS=void 0;fn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Vn={},Is={},bt={},Xl=jn;jn.default=jn;jn.stable=rc;jn.stableStringify=rc;var Mr="[...]",tc="[Circular]",Tt=[],Rt=[];function nc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function jn(t,e,n,r){typeof r>"u"&&(r=nc()),rs(t,"",0,[],void 0,0,r);var i;try{Rt.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,ic(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Tt.length!==0;){var s=Tt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Jt(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Tt.push([r,n,e,i])):Rt.push([e,n,t]):(r[n]=t,Tt.push([r,n,e]))}function rs(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){Jt(tc,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Jt(Mr,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){Jt(Mr,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)rs(t[a],a,a,r,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];rs(t[u],u,a,r,t,s,o)}}r.pop()}}function ed(t,e){return t<e?-1:t>e?1:0}function rc(t,e,n,r){typeof r>"u"&&(r=nc());var i=is(t,"",0,[],void 0,0,r)||t,s;try{Rt.length===0?s=JSON.stringify(i,e,n):s=JSON.stringify(i,ic(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Tt.length!==0;){var o=Tt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function is(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){Jt(tc,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Jt(Mr,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){Jt(Mr,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)is(t[a],a,a,r,t,s,o);else{var c={},u=Object.keys(t).sort(ed);for(a=0;a<u.length;a++){var l=u[a];is(t[l],l,a,r,t,s,o),c[l]=t[l]}if(typeof i<"u")Tt.push([i,e,t]),i[e]=c;else return c}r.pop()}}function ic(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Rt.length>0)for(var r=0;r<Rt.length;r++){var i=Rt[r];if(i[1]===e&&i[0]===n){n=i[2],Rt.splice(r,1);break}}return t.call(this,e,n)}}Object.defineProperty(bt,"__esModule",{value:!0});bt.EthereumProviderError=bt.EthereumRpcError=void 0;const td=Xl;class sc extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return td.default(this.serialize(),id,2)}}bt.EthereumRpcError=sc;class nd extends sc{constructor(e,n,r){if(!rd(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}bt.EthereumProviderError=nd;function rd(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function id(t,e){if(e!=="[Circular]")return e}var Ms={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.errorValues=gt.errorCodes=void 0;gt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};gt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=gt,n=bt,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:r,message:o(r)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,h=i){if(Number.isInteger(f)){const g=f.toString();if(d(e.errorValues,g))return e.errorValues[g].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return h}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const h=f.toString();return!!(e.errorValues[h]||u(f))}t.isValidCode=a;function c(f,{fallbackError:h=s,shouldIncludeStack:g=!1}={}){var w,y;if(!h||!Number.isInteger(h.code)||typeof h.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof n.EthereumRpcError)return f.serialize();const v={};if(f&&typeof f=="object"&&!Array.isArray(f)&&d(f,"code")&&a(f.code)){const b=f;v.code=b.code,b.message&&typeof b.message=="string"?(v.message=b.message,d(b,"data")&&(v.data=b.data)):(v.message=o(v.code),v.data={originalError:l(f)})}else{v.code=h.code;const b=(w=f)===null||w===void 0?void 0:w.message;v.message=b&&typeof b=="string"?b:h.message,v.data={originalError:l(f)}}const m=(y=f)===null||y===void 0?void 0:y.stack;return g&&f&&m&&typeof m=="string"&&(v.stack=m),v}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function d(f,h){return Object.prototype.hasOwnProperty.call(f,h)}})(Ms);var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.ethErrors=void 0;const Rs=bt,oc=Ms,fe=gt;Hr.ethErrors={rpc:{parse:t=>Ie(fe.errorCodes.rpc.parse,t),invalidRequest:t=>Ie(fe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ie(fe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ie(fe.errorCodes.rpc.methodNotFound,t),internal:t=>Ie(fe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ie(e,t)},invalidInput:t=>Ie(fe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ie(fe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ie(fe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ie(fe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ie(fe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ie(fe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Cn(fe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Cn(fe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Cn(fe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Cn(fe.errorCodes.provider.disconnected,t),chainDisconnected:t=>Cn(fe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Rs.EthereumProviderError(e,n,r)}}};function Ie(t,e){const[n,r]=ac(e);return new Rs.EthereumRpcError(t,n||oc.getMessageFromCode(t),r)}function Cn(t,e){const[n,r]=ac(e);return new Rs.EthereumProviderError(t,n||oc.getMessageFromCode(t),r)}function ac(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=bt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=Ms;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=Hr;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=gt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Is);var H={},Vr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Vr);Object.defineProperty(H,"__esModule",{value:!0});H.EthereumAddressFromSignedMessageResponse=H.SubmitEthereumTransactionResponse=H.SignEthereumTransactionResponse=H.SignEthereumMessageResponse=H.isRequestEthereumAccountsResponse=H.SelectProviderResponse=H.WatchAssetReponse=H.RequestEthereumAccountsResponse=H.SwitchEthereumChainResponse=H.AddEthereumChainResponse=H.isErrorResponse=void 0;const Xe=Vr;function sd(t){var e,n;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((n=t)===null||n===void 0?void 0:n.errorMessage)!==void 0}H.isErrorResponse=sd;function od(t){return{method:Xe.Web3Method.addEthereumChain,result:t}}H.AddEthereumChainResponse=od;function ad(t){return{method:Xe.Web3Method.switchEthereumChain,result:t}}H.SwitchEthereumChainResponse=ad;function cd(t){return{method:Xe.Web3Method.requestEthereumAccounts,result:t}}H.RequestEthereumAccountsResponse=cd;function ud(t){return{method:Xe.Web3Method.watchAsset,result:t}}H.WatchAssetReponse=ud;function ld(t){return{method:Xe.Web3Method.selectProvider,result:t}}H.SelectProviderResponse=ld;function dd(t){return t&&t.method===Xe.Web3Method.requestEthereumAccounts}H.isRequestEthereumAccountsResponse=dd;function fd(t){return{method:Xe.Web3Method.signEthereumMessage,result:t}}H.SignEthereumMessageResponse=fd;function hd(t){return{method:Xe.Web3Method.signEthereumTransaction,result:t}}H.SignEthereumTransactionResponse=hd;function pd(t){return{method:Xe.Web3Method.submitEthereumTransaction,result:t}}H.SubmitEthereumTransactionResponse=pd;function bd(t){return{method:Xe.Web3Method.ethereumAddressFromSignedMessage,result:t}}H.EthereumAddressFromSignedMessageResponse=bd;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.LIB_VERSION=void 0;hn.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Is,n=H,r=hn;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(l){return l!==void 0?(0,e.getMessageFromCode)(l):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(l="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${l}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(l,d){const f=(0,e.serializeError)(o(l),{shouldIncludeStack:!0}),h=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");h.searchParams.set("version",r.LIB_VERSION),h.searchParams.set("code",f.code.toString());const g=a(f.data,d);return g&&h.searchParams.set("method",g),h.searchParams.set("message",f.message),Object.assign(Object.assign({},f),{docUrl:h.href})}t.serializeError=s;function o(l){return typeof l=="string"?{message:l,code:t.standardErrorCodes.rpc.internal}:(0,n.isErrorResponse)(l)?Object.assign(Object.assign({},l),{message:l.errorMessage,code:l.errorCode,data:{method:l.method,result:l.result}}):l}function a(l,d){var f;const h=(f=l)===null||f===void 0?void 0:f.method;if(h)return h;if(d!==void 0)return typeof d=="string"?d:Array.isArray(d)?d.length>0?d[0].method:void 0:d.method}function c(l){var d;if(typeof l=="number")return l;if(u(l))return(d=l.code)!==null&&d!==void 0?d:l.errorCode}t.getErrorCode=c;function u(l){return typeof l=="object"&&l!==null&&(typeof l.code=="number"||typeof l.errorCode=="number")}})(Vn);var pn={},S={};const gd={},yd=Object.freeze(Object.defineProperty({__proto__:null,default:gd},Symbol.toStringTag,{value:"Module"})),md=_t(yd);var As=typeof Map=="function"&&Map.prototype,Oi=Object.getOwnPropertyDescriptor&&As?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Rr=As&&Oi&&typeof Oi.get=="function"?Oi.get:null,Mo=As&&Map.prototype.forEach,Ts=typeof Set=="function"&&Set.prototype,Li=Object.getOwnPropertyDescriptor&&Ts?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ar=Ts&&Li&&typeof Li.get=="function"?Li.get:null,Ro=Ts&&Set.prototype.forEach,vd=typeof WeakMap=="function"&&WeakMap.prototype,Rn=vd?WeakMap.prototype.has:null,_d=typeof WeakSet=="function"&&WeakSet.prototype,An=_d?WeakSet.prototype.has:null,wd=typeof WeakRef=="function"&&WeakRef.prototype,Ao=wd?WeakRef.prototype.deref:null,Sd=Boolean.prototype.valueOf,Ed=Object.prototype.toString,Cd=Function.prototype.toString,xd=String.prototype.match,Ns=String.prototype.slice,ht=String.prototype.replace,kd=String.prototype.toUpperCase,To=String.prototype.toLowerCase,cc=RegExp.prototype.test,No=Array.prototype.concat,Je=Array.prototype.join,Id=Array.prototype.slice,Oo=Math.floor,ss=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Di=Object.getOwnPropertySymbols,os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Yt?"object":"symbol")?Symbol.toStringTag:null,uc=Object.prototype.propertyIsEnumerable,Lo=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Do(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||cc.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Oo(-t):Oo(t);if(r!==t){var i=String(r),s=Ns.call(e,i.length+1);return ht.call(i,n,"$&_")+"."+ht.call(ht.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ht.call(e,n,"$&_")}var as=md,Po=as.custom,jo=dc(Po)?Po:null,Md=function t(e,n,r,i){var s=n||{};if(lt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(lt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=lt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(lt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(lt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return hc(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Do(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Do(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=l&&l>0&&typeof e=="object")return cs(e)?"[Array]":"[Object]";var d=qd(s,r);if(typeof i>"u")i=[];else if(fc(i,e)>=0)return"[Circular]";function f(de,we,ke){if(we&&(i=Id.call(i),i.push(we)),ke){var et={depth:s.depth};return lt(s,"quoteStyle")&&(et.quoteStyle=s.quoteStyle),t(de,et,r+1,i)}return t(de,s,r+1,i)}if(typeof e=="function"&&!Fo(e)){var h=jd(e),g=dr(e,f);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(g.length>0?" { "+Je.call(g,", ")+" }":"")}if(dc(e)){var w=Yt?ht.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):os.call(e);return typeof e=="object"&&!Yt?xn(w):w}if(Vd(e)){for(var y="<"+To.call(String(e.nodeName)),v=e.attributes||[],m=0;m<v.length;m++)y+=" "+v[m].name+"="+lc(Rd(v[m].value),"double",s);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+To.call(String(e.nodeName))+">",y}if(cs(e)){if(e.length===0)return"[]";var b=dr(e,f);return d&&!Ud(b)?"["+us(b,d)+"]":"[ "+Je.call(b,", ")+" ]"}if(Td(e)){var E=dr(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!uc.call(e,"cause")?"{ ["+String(e)+"] "+Je.call(No.call("[cause]: "+f(e.cause),E),", ")+" }":E.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Je.call(E,", ")+" }"}if(typeof e=="object"&&o){if(jo&&typeof e[jo]=="function"&&as)return as(e,{depth:l-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Fd(e)){var _=[];return Mo&&Mo.call(e,function(de,we){_.push(f(we,e,!0)+" => "+f(de,e))}),Bo("Map",Rr.call(e),_,d)}if(Wd(e)){var M=[];return Ro&&Ro.call(e,function(de){M.push(f(de,e))}),Bo("Set",Ar.call(e),M,d)}if(Bd(e))return Pi("WeakMap");if(Hd(e))return Pi("WeakSet");if($d(e))return Pi("WeakRef");if(Od(e))return xn(f(Number(e)));if(Dd(e))return xn(f(ss.call(e)));if(Ld(e))return xn(Sd.call(e));if(Nd(e))return xn(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===C)return"{ [object globalThis] }";if(!Ad(e)&&!Fo(e)){var D=dr(e,f),te=Lo?Lo(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",N=!te&&pe&&Object(e)===e&&pe in e?Ns.call(wt(e),8,-1):k?"Object":"",ae=te||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",B=ae+(N||k?"["+Je.call(No.call([],N||[],k||[]),": ")+"] ":"");return D.length===0?B+"{}":d?B+"{"+us(D,d)+"}":B+"{ "+Je.call(D,", ")+" }"}return String(e)};function lc(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function Rd(t){return ht.call(String(t),/"/g,"&quot;")}function cs(t){return wt(t)==="[object Array]"&&(!pe||!(typeof t=="object"&&pe in t))}function Ad(t){return wt(t)==="[object Date]"&&(!pe||!(typeof t=="object"&&pe in t))}function Fo(t){return wt(t)==="[object RegExp]"&&(!pe||!(typeof t=="object"&&pe in t))}function Td(t){return wt(t)==="[object Error]"&&(!pe||!(typeof t=="object"&&pe in t))}function Nd(t){return wt(t)==="[object String]"&&(!pe||!(typeof t=="object"&&pe in t))}function Od(t){return wt(t)==="[object Number]"&&(!pe||!(typeof t=="object"&&pe in t))}function Ld(t){return wt(t)==="[object Boolean]"&&(!pe||!(typeof t=="object"&&pe in t))}function dc(t){if(Yt)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!os)return!1;try{return os.call(t),!0}catch{}return!1}function Dd(t){if(!t||typeof t!="object"||!ss)return!1;try{return ss.call(t),!0}catch{}return!1}var Pd=Object.prototype.hasOwnProperty||function(t){return t in this};function lt(t,e){return Pd.call(t,e)}function wt(t){return Ed.call(t)}function jd(t){if(t.name)return t.name;var e=xd.call(Cd.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function fc(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Fd(t){if(!Rr||!t||typeof t!="object")return!1;try{Rr.call(t);try{Ar.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Bd(t){if(!Rn||!t||typeof t!="object")return!1;try{Rn.call(t,Rn);try{An.call(t,An)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function $d(t){if(!Ao||!t||typeof t!="object")return!1;try{return Ao.call(t),!0}catch{}return!1}function Wd(t){if(!Ar||!t||typeof t!="object")return!1;try{Ar.call(t);try{Rr.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Hd(t){if(!An||!t||typeof t!="object")return!1;try{An.call(t,An);try{Rn.call(t,Rn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Vd(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function hc(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return hc(Ns.call(t,0,e.maxStringLength),e)+r}var i=ht.call(ht.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,zd);return lc(i,"single",e)}function zd(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+kd.call(e.toString(16))}function xn(t){return"Object("+t+")"}function Pi(t){return t+" { ? }"}function Bo(t,e,n,r){var i=r?us(n,r):Je.call(n,", ");return t+" ("+e+") {"+i+"}"}function Ud(t){for(var e=0;e<t.length;e++)if(fc(t[e],`
`)>=0)return!1;return!0}function qd(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Je.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Je.call(Array(e+1),n)}}function us(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Je.call(t,","+n)+`
`+e.prev}function dr(t,e){var n=cs(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=lt(t,i)?e(t[i],t):""}var s=typeof Di=="function"?Di(t):[],o;if(Yt){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!lt(t,c)||n&&String(Number(c))===c&&c<t.length||Yt&&o["$"+c]instanceof Symbol||(cc.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t)));if(typeof Di=="function")for(var u=0;u<s.length;u++)uc.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}var pc=Fl,bn=Bl,Jd=Md,Qd=$l,fr=pc("%WeakMap%",!0),hr=pc("%Map%",!0),Gd=bn("WeakMap.prototype.get",!0),Zd=bn("WeakMap.prototype.set",!0),Kd=bn("WeakMap.prototype.has",!0),Yd=bn("Map.prototype.get",!0),Xd=bn("Map.prototype.set",!0),ef=bn("Map.prototype.has",!0),Os=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},tf=function(t,e){var n=Os(t,e);return n&&n.value},nf=function(t,e,n){var r=Os(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},rf=function(t,e){return!!Os(t,e)},sf=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new Qd("Side channel does not contain "+Jd(s))},get:function(s){if(fr&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Gd(e,s)}else if(hr){if(n)return Yd(n,s)}else if(r)return tf(r,s)},has:function(s){if(fr&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Kd(e,s)}else if(hr){if(n)return ef(n,s)}else if(r)return rf(r,s);return!1},set:function(s,o){fr&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new fr),Zd(e,s,o)):hr?(n||(n=new hr),Xd(n,s,o)):(r||(r={key:{},next:null}),nf(r,s,o))}};return i},of=String.prototype.replace,af=/%20/g,ji={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ls={default:ji.RFC3986,formatters:{RFC1738:function(t){return of.call(t,af,"+")},RFC3986:function(t){return String(t)}},RFC1738:ji.RFC1738,RFC3986:ji.RFC3986},cf=Ls,Fi=Object.prototype.hasOwnProperty,xt=Array.isArray,We=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),uf=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(xt(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},bc=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},lf=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(xt(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Fi.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return xt(e)&&!xt(n)&&(i=bc(e,r)),xt(e)&&xt(n)?(n.forEach(function(s,o){if(Fi.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return Fi.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},df=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},ff=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},hf=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===cf.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+We[u];continue}if(u<2048){a=a+(We[192|u>>6]+We[128|u&63]);continue}if(u<55296||u>=57344){a=a+(We[224|u>>12]+We[128|u>>6&63]+We[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=We[240|u>>18]+We[128|u>>12&63]+We[128|u>>6&63]+We[128|u&63]}return a},pf=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&r.indexOf(l)===-1&&(n.push({obj:o,prop:u}),r.push(l))}return uf(n),e},bf=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},gf=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},yf=function(e,n){return[].concat(e,n)},mf=function(e,n){if(xt(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},gc={arrayToObject:bc,assign:df,combine:yf,compact:pf,decode:ff,encode:hf,isBuffer:gf,isRegExp:bf,maybeMap:mf,merge:lf},yc=sf,Er=gc,Tn=Ls,vf=Object.prototype.hasOwnProperty,mc={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},qe=Array.isArray,_f=Array.prototype.push,vc=function(t,e){_f.apply(t,qe(e)?e:[e])},wf=Date.prototype.toISOString,$o=Tn.default,re={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Er.encode,encodeValuesOnly:!1,format:$o,formatter:Tn.formatters[$o],indices:!1,serializeDate:function(e){return wf.call(e)},skipNulls:!1,strictNullHandling:!1},Sf=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bi={},Ef=function t(e,n,r,i,s,o,a,c,u,l,d,f,h,g,w,y,v,m){for(var b=e,E=m,_=0,M=!1;(E=E.get(Bi))!==void 0&&!M;){var D=E.get(e);if(_+=1,typeof D<"u"){if(D===_)throw new RangeError("Cyclic object value");M=!0}typeof E.get(Bi)>"u"&&(_=0)}if(typeof l=="function"?b=l(n,b):b instanceof Date?b=h(b):r==="comma"&&qe(b)&&(b=Er.maybeMap(b,function(En){return En instanceof Date?h(En):En})),b===null){if(o)return u&&!y?u(n,re.encoder,v,"key",g):n;b=""}if(Sf(b)||Er.isBuffer(b)){if(u){var te=y?n:u(n,re.encoder,v,"key",g);return[w(te)+"="+w(u(b,re.encoder,v,"value",g))]}return[w(n)+"="+w(String(b))]}var k=[];if(typeof b>"u")return k;var N;if(r==="comma"&&qe(b))y&&u&&(b=Er.maybeMap(b,u)),N=[{value:b.length>0?b.join(",")||null:void 0}];else if(qe(l))N=l;else{var ae=Object.keys(b);N=d?ae.sort(d):ae}var B=c?n.replace(/\./g,"%2E"):n,de=i&&qe(b)&&b.length===1?B+"[]":B;if(s&&qe(b)&&b.length===0)return de+"[]";for(var we=0;we<N.length;++we){var ke=N[we],et=typeof ke=="object"&&typeof ke.value<"u"?ke.value:b[ke];if(!(a&&et===null)){var Sn=f&&c?ke.replace(/\./g,"%2E"):ke,Ni=qe(b)?typeof r=="function"?r(de,Sn):de:de+(f?"."+Sn:"["+Sn+"]");m.set(e,_);var lr=yc();lr.set(Bi,m),vc(k,t(et,Ni,r,i,s,o,a,c,r==="comma"&&y&&qe(b)?null:u,l,d,f,h,g,w,y,v,lr))}}return k},Cf=function(e){if(!e)return re;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||re.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Tn.default;if(typeof e.format<"u"){if(!vf.call(Tn.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Tn.formatters[r],s=re.filter;(typeof e.filter=="function"||qe(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in mc?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=re.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:re.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:re.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:re.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:re.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?re.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:re.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:re.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:re.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:re.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:re.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:re.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:re.strictNullHandling}},xf=function(t,e){var n=t,r=Cf(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):qe(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=mc[r.arrayFormat],c=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=yc(),l=0;l<i.length;++l){var d=i[l];r.skipNulls&&n[d]===null||vc(o,Ef(n[d],d,a,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var f=o.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},Xt=gc,ls=Object.prototype.hasOwnProperty,kf=Array.isArray,Y={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Xt.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},If=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},_c=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Mf="utf8=%26%2310003%3B",Rf="utf8=%E2%9C%93",Af=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Rf?u="utf-8":o[c]===Mf&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],d=l.indexOf("]="),f=d===-1?l.indexOf("="):d+1,h,g;f===-1?(h=n.decoder(l,Y.decoder,u,"key"),g=n.strictNullHandling?null:""):(h=n.decoder(l.slice(0,f),Y.decoder,u,"key"),g=Xt.maybeMap(_c(l.slice(f+1),n),function(y){return n.decoder(y,Y.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=If(g)),l.indexOf("[]=")>-1&&(g=kf(g)?[g]:g);var w=ls.call(r,h);w&&n.duplicates==="combine"?r[h]=Xt.combine(r[h],g):(!w||n.duplicates==="last")&&(r[h]=g)}return r},Tf=function(t,e,n,r){for(var i=r?e:_c(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,l=parseInt(u,10);!n.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},Nf=function(e,n,r,i){if(!!e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=r.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!r.plainObjects&&ls.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var d=0;r.depth>0&&(c=a.exec(s))!==null&&d<r.depth;){if(d+=1,!r.plainObjects&&ls.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),Tf(l,n,r,i)}},Of=function(e){if(!e)return Y;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Y.charset:e.charset,r=typeof e.duplicates>"u"?Y.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Y.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Y.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Y.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Y.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Y.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Y.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Y.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Y.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Y.decoder,delimiter:typeof e.delimiter=="string"||Xt.isRegExp(e.delimiter)?e.delimiter:Y.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Y.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Y.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Y.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Y.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Y.strictNullHandling}},Lf=function(t,e){var n=Of(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?Af(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],c=Nf(a,r[a],n,typeof t=="string");i=Xt.merge(i,c,n)}return n.allowSparse===!0?i:Xt.compact(i)},Df=xf,Pf=Lf,jf=Ls,Ff={formats:jf,parse:Pf,stringify:Df},zn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return r=>r}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function n(r){return Math.floor(r)}t.IntNumber=n,t.RegExpString=e(),function(r){r.CoinbaseWallet="CoinbaseWallet",r.MetaMask="MetaMask",r.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(zn);var Bf=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S,"__esModule",{value:!0});S.isInIFrame=S.createQrUrl=S.getFavicon=S.range=S.isBigNumber=S.ensureParsedJSONObject=S.ensureBN=S.ensureRegExpString=S.ensureIntNumber=S.ensureBuffer=S.ensureAddressString=S.ensureEvenLengthHexString=S.ensureHexString=S.isHexString=S.prepend0x=S.strip0x=S.has0xPrefix=S.hexStringFromIntNumber=S.intNumberFromHexString=S.bigIntStringFromBN=S.hexStringFromBuffer=S.hexStringToUint8Array=S.uint8ArrayToHex=S.randomBytesHex=void 0;const dt=Bf(Fr.exports),$f=Ff,Pt=Vn,Oe=zn,wc=/^[0-9]*$/,Sc=/^[a-f0-9]*$/;function Wf(t){return Ec(crypto.getRandomValues(new Uint8Array(t)))}S.randomBytesHex=Wf;function Ec(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}S.uint8ArrayToHex=Ec;function Hf(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}S.hexStringToUint8Array=Hf;function Vf(t,e=!1){const n=t.toString("hex");return(0,Oe.HexString)(e?"0x"+n:n)}S.hexStringFromBuffer=Vf;function zf(t){return(0,Oe.BigIntString)(t.toString(10))}S.bigIntStringFromBN=zf;function Uf(t){return(0,Oe.IntNumber)(new dt.default(qn(t,!1),16).toNumber())}S.intNumberFromHexString=Uf;function qf(t){return(0,Oe.HexString)("0x"+new dt.default(t).toString(16))}S.hexStringFromIntNumber=qf;function Ds(t){return t.startsWith("0x")||t.startsWith("0X")}S.has0xPrefix=Ds;function zr(t){return Ds(t)?t.slice(2):t}S.strip0x=zr;function Cc(t){return Ds(t)?"0x"+t.slice(2):"0x"+t}S.prepend0x=Cc;function Un(t){if(typeof t!="string")return!1;const e=zr(t).toLowerCase();return Sc.test(e)}S.isHexString=Un;function xc(t,e=!1){if(typeof t=="string"){const n=zr(t).toLowerCase();if(Sc.test(n))return(0,Oe.HexString)(e?"0x"+n:n)}throw Pt.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}S.ensureHexString=xc;function qn(t,e=!1){let n=xc(t,!1);return n.length%2===1&&(n=(0,Oe.HexString)("0"+n)),e?(0,Oe.HexString)("0x"+n):n}S.ensureEvenLengthHexString=qn;function Jf(t){if(typeof t=="string"){const e=zr(t).toLowerCase();if(Un(e)&&e.length===40)return(0,Oe.AddressString)(Cc(e))}throw Pt.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}S.ensureAddressString=Jf;function Qf(t){if(j.Buffer.isBuffer(t))return t;if(typeof t=="string")if(Un(t)){const e=qn(t,!1);return j.Buffer.from(e,"hex")}else return j.Buffer.from(t,"utf8");throw Pt.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}S.ensureBuffer=Qf;function kc(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Oe.IntNumber)(t);if(typeof t=="string"){if(wc.test(t))return(0,Oe.IntNumber)(Number(t));if(Un(t))return(0,Oe.IntNumber)(new dt.default(qn(t,!1),16).toNumber())}throw Pt.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}S.ensureIntNumber=kc;function Gf(t){if(t instanceof RegExp)return(0,Oe.RegExpString)(t.toString());throw Pt.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}S.ensureRegExpString=Gf;function Zf(t){if(t!==null&&(dt.default.isBN(t)||Ic(t)))return new dt.default(t.toString(10),10);if(typeof t=="number")return new dt.default(kc(t));if(typeof t=="string"){if(wc.test(t))return new dt.default(t,10);if(Un(t))return new dt.default(qn(t,!1),16)}throw Pt.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}S.ensureBN=Zf;function Kf(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Pt.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}S.ensureParsedJSONObject=Kf;function Ic(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}S.isBigNumber=Ic;function Yf(t,e){return Array.from({length:e-t},(n,r)=>t+r)}S.range=Yf;function Xf(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,r=t?t.getAttribute("href"):null;return!r||r.startsWith("javascript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${n}${r}`}S.getFavicon=Xf;function eh(t,e,n,r,i,s){const o=r?"parent-id":"id",a=(0,$f.stringify)({[o]:t,secret:e,server:n,v:i,chainId:s});return`${n}/#/link?${a}`}S.createQrUrl=eh;function th(){try{return window.frameElement!==null}catch{return!1}}S.isInIFrame=th;Object.defineProperty(pn,"__esModule",{value:!0});pn.Session=void 0;const Wo=Wl.exports,Ho=S,Vo="session:id",zo="session:secret",Uo="session:linked";class Ps{constructor(e,n,r,i){this._storage=e,this._id=n||(0,Ho.randomBytesHex)(16),this._secret=r||(0,Ho.randomBytesHex)(32),this._key=new Wo.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const n=e.getItem(Vo),r=e.getItem(Uo),i=e.getItem(zo);return n&&i?new Ps(e,n,i,r==="1"):null}static hash(e){return new Wo.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Vo,this._id),this._storage.setItem(zo,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Uo,this._linked?"1":"0")}}pn.Session=Ps;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.WalletSDKRelayAbstract=$e.APP_VERSION_KEY=$e.LOCAL_STORAGE_ADDRESSES_KEY=$e.WALLET_USER_NAME_KEY=void 0;const qo=Vn;$e.WALLET_USER_NAME_KEY="walletUsername";$e.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";$e.APP_VERSION_KEY="AppVersion";class nh{async makeEthereumJSONRPCRequest(e,n){if(!n)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(n,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{if(!r)throw qo.standardErrors.rpc.parse({});const i=r,{error:s}=i;if(s)throw(0,qo.serializeError)(s,e.method);return i})}}$e.WalletSDKRelayAbstract=nh;const rh=zl,ih=Fr.exports;function Mc(t){return j.Buffer.allocUnsafe(t).fill(0)}function Rc(t,e,n){const r=Mc(e);return t=Ur(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function sh(t,e){return Rc(t,e,!0)}function Ur(t){if(!j.Buffer.isBuffer(t))if(Array.isArray(t))t=j.Buffer.from(t);else if(typeof t=="string")Ac(t)?t=j.Buffer.from(ch(Tc(t)),"hex"):t=j.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=j.Buffer.allocUnsafe(0);else if(ih.isBN(t))t=t.toArrayLike(j.Buffer);else if(t.toArray)t=j.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function oh(t){return t=Ur(t),"0x"+t.toString("hex")}function ah(t,e){return t=Ur(t),e||(e=256),rh("keccak"+e).update(t).digest()}function ch(t){return t.length%2?"0"+t:t}function Ac(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Tc(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Nc={zeros:Mc,setLength:Rc,setLengthRight:sh,isHexString:Ac,stripHexPrefix:Tc,toBuffer:Ur,bufferToHex:oh,keccak:ah};const Nt=Nc,At=Fr.exports;function Oc(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Qt(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Jo(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Lc(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function kt(t){var e=typeof t;if(e==="string")return Nt.isHexString(t)?new At(Nt.stripHexPrefix(t),16):new At(t,10);if(e==="number")return new At(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function ze(t,e){var n,r,i,s;if(t==="address")return ze("uint160",kt(e));if(t==="bool")return ze("uint8",e?1:0);if(t==="string")return ze("bytes",new j.Buffer(e,"utf8"));if(lh(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=Lc(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ze(t,e[s]));if(n==="dynamic"){var o=ze("uint256",e.length);i.unshift(o)}return j.Buffer.concat(i)}else{if(t==="bytes")return e=new j.Buffer(e),i=j.Buffer.concat([ze("uint256",e.length),e]),e.length%32!==0&&(i=j.Buffer.concat([i,Nt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Qt(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Nt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Qt(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=kt(e),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(j.Buffer,"be",32)}else if(t.startsWith("int")){if(n=Qt(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=kt(e),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(j.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(n=Jo(t),r=kt(e),r<0)throw new Error("Supplied ufixed is negative");return ze("uint256",r.mul(new At(2).pow(new At(n[1]))))}else if(t.startsWith("fixed"))return n=Jo(t),ze("int256",kt(e).mul(new At(2).pow(new At(n[1]))))}throw new Error("Unsupported or invalid type: "+t)}function uh(t){return t==="string"||t==="bytes"||Lc(t)==="dynamic"}function lh(t){return t.lastIndexOf("]")===t.length-1}function dh(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=Oc(t[s]),a=e[s],c=ze(o,a);uh(o)?(n.push(ze("uint256",i)),r.push(c),i+=c.length):n.push(c)}return j.Buffer.concat(n.concat(r))}function Dc(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=Oc(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new j.Buffer(a,"utf8"));else if(o==="bool")i.push(new j.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Nt.setLength(a,20));else if(o.startsWith("bytes")){if(n=Qt(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Nt.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=Qt(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=kt(a),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());i.push(r.toArrayLike(j.Buffer,"be",n/8))}else if(o.startsWith("int")){if(n=Qt(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=kt(a),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());i.push(r.toTwos(n).toArrayLike(j.Buffer,"be",n/8))}else throw new Error("Unsupported or invalid type: "+o)}return j.Buffer.concat(i)}function fh(t,e){return Nt.keccak(Dc(t,e))}var hh={rawEncode:dh,solidityPack:Dc,soliditySHA3:fh};const Fe=Nc,Nn=hh,Pc={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},$i={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,c,u)=>{if(n[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Fe.keccak(this.encodeData(c,u,n,r))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Fe.keccak(u)];if(c==="string")return typeof u=="string"&&(u=j.Buffer.from(u,"utf8")),["bytes32",Fe.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),d=u.map(f=>o(a,l,f));return["bytes32",Fe.keccak(Nn.rawEncode(d.map(([f])=>f),d.map(([,f])=>f)))]}return[c,u]};for(const a of n[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Fe.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=j.Buffer.from(a,"utf8")),a=Fe.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=Fe.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Nn.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return Fe.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return Fe.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in Pc.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[j.Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),Fe.keccak(j.Buffer.concat(r))}};var ph={TYPED_MESSAGE_SCHEMA:Pc,TypedDataUtils:$i,hashForSignTypedDataLegacy:function(t){return bh(t.data)},hashForSignTypedData_v3:function(t){return $i.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return $i.hash(t.data)}};function bh(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?Fe.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Nn.soliditySHA3(["bytes32","bytes32"],[Nn.soliditySHA3(new Array(t.length).fill("string"),i),Nn.soliditySHA3(r,n)])}var en={};Object.defineProperty(en,"__esModule",{value:!0});en.filterFromParam=en.FilterPolyfill=void 0;const zt=zn,be=S,gh=5*60*1e3,It={jsonrpc:"2.0",id:0};class yh{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,zt.IntNumber)(1),this.provider=e}async newFilter(e){const n=jc(e),r=this.makeFilterId(),i=await this.setInitialCursorPosition(r,n.fromBlock);return console.log(`Installing new log filter(${r}):`,n,"initial cursor position:",i),this.logFilters.set(r,n),this.setFilterTimeout(r),(0,be.hexStringFromIntNumber)(r)}async newBlockFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,n),this.blockFilters.add(e),this.setFilterTimeout(e),(0,be.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,n),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,be.hexStringFromIntNumber)(e)}uninstallFilter(e){const n=(0,be.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${n})`),this.deleteFilter(n),!0}getFilterChanges(e){const n=(0,be.intNumberFromHexString)(e);return this.timeouts.has(n)&&this.setFilterTimeout(n),this.logFilters.has(n)?this.getLogFilterChanges(n):this.blockFilters.has(n)?this.getBlockFilterChanges(n):this.pendingTransactionFilters.has(n)?this.getPendingTransactionFilterChanges(n):Promise.resolve(pr())}async getFilterLogs(e){const n=(0,be.intNumberFromHexString)(e),r=this.logFilters.get(n);return r?this.sendAsyncPromise(Object.assign(Object.assign({},It),{method:"eth_getLogs",params:[Qo(r)]})):pr()}makeFilterId(){return(0,zt.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((n,r)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return r(i);if(Array.isArray(s)||s==null)return r(new Error(`unexpected response received: ${JSON.stringify(s)}`));n(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const n=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!n)return pr();const i=await this.getCurrentBlockHeight(),s=n.toBlock==="latest"?i:n.toBlock;if(r>i||r>n.toBlock)return br();console.log(`Fetching logs from ${r} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},It),{method:"eth_getLogs",params:[Qo(Object.assign(Object.assign({},n),{fromBlock:r,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,be.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>r){const u=(0,zt.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${r} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const n=this.cursors.get(e);if(!n)return pr();const r=await this.getCurrentBlockHeight();if(n>r)return br();console.log(`Fetching blocks from ${n} to ${r} for filter (${e})`);const i=(await Promise.all((0,be.range)(n,r+1).map(o=>this.getBlockHashByNumber((0,zt.IntNumber)(o))))).filter(o=>!!o),s=(0,zt.IntNumber)(n+i.length);return console.log(`Moving cursor position for filter (${e}) from ${n} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},It),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(br())}async setInitialCursorPosition(e,n){const r=await this.getCurrentBlockHeight(),i=typeof n=="number"&&n>r?n:r;return this.cursors.set(e,i),i}setFilterTimeout(e){const n=this.timeouts.get(e);n&&window.clearTimeout(n);const r=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},gh);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},It),{method:"eth_blockNumber",params:[]}));return(0,be.intNumberFromHexString)((0,be.ensureHexString)(e))}async getBlockHashByNumber(e){const n=await this.sendAsyncPromise(Object.assign(Object.assign({},It),{method:"eth_getBlockByNumber",params:[(0,be.hexStringFromIntNumber)(e),!1]}));return n.result&&typeof n.result.hash=="string"?(0,be.ensureHexString)(n.result.hash):null}}en.FilterPolyfill=yh;function jc(t){return{fromBlock:Go(t.fromBlock),toBlock:Go(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}en.filterFromParam=jc;function Qo(t){const e={fromBlock:Zo(t.fromBlock),toBlock:Zo(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Go(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,zt.IntNumber)(0);if((0,be.isHexString)(t))return(0,be.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Zo(t){return t==="latest"?t:(0,be.hexStringFromIntNumber)(t)}function pr(){return Object.assign(Object.assign({},It),{error:{code:-32e3,message:"filter not found"}})}function br(){return Object.assign(Object.assign({},It),{result:[]})}var Fc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Fc);var qr={},Bc={},Jr={},js=mh;function mh(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}const Ko=(t,e)=>function(){const n=e.promiseModule,r=new Array(arguments.length);for(let i=0;i<arguments.length;i++)r[i]=arguments[i];return new n((i,s)=>{e.errorFirst?r.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):r.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,r)})};var vh=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const n=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let r;typeof t=="function"?r=function(){return e.excludeMain?t.apply(this,arguments):Ko(t,e).apply(this,arguments)}:r=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];r[i]=typeof s=="function"&&n(i)?Ko(s,e):s}return r},Jn={},_h=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.BaseBlockTracker=void 0;const wh=_h(Dt),Sh=1e3,Eh=(t,e)=>t+e,Yo=["sync","latest"];class Ch extends wh.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Sh,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(n=>this.once("latest",n))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Yo.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Yo.map(e=>this.listenerCount(e)).reduce(Eh)}_newPotentialLatest(e){const n=this._currentBlock;n&&Xo(e)<=Xo(n)||this._setCurrentBlock(e)}_setCurrentBlock(e){const n=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:n,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Jn.BaseBlockTracker=Ch;function Xo(t){return Number.parseInt(t,16)}var $c={},Wc={},le={};class Hc extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s!=null?s:c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r!=null?r:r=[e,...n()]}}function xh(t){return Le(t)&&typeof t[Symbol.iterator]=="function"}function Le(t){return typeof t=="object"&&t!=null}function ea(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ie(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function kh(t){const{done:e,value:n}=t.next();return e?void 0:n}function Ih(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ie(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*ds(t,e,n,r){xh(t)||(t=[t]);for(const i of t){const s=Ih(i,e,n,r);s&&(yield s)}}function*Fs(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Le(e.schema)&&Le(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(t,a)){const f=Fs(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:n.message});for(const h of f)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(l=h[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):Le(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class X{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return ds(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return ds(l,u,this,c)}:this.refiner=()=>[]}assert(e,n){return Vc(e,this,n)}create(e,n){return zc(e,this,n)}is(e){return Bs(e,this)}mask(e,n){return Uc(e,this,n)}validate(e,n={}){return gn(e,this,n)}}function Vc(t,e,n){const r=gn(t,e,{message:n});if(r[0])throw r[0]}function zc(t,e,n){const r=gn(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Uc(t,e,n){const r=gn(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Bs(t,e){return!gn(t,e)[0]}function gn(t,e,n={}){const r=Fs(t,e,n),i=kh(r);return i[0]?[new Hc(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Mh(...t){const e=t[0].type==="type",n=t.map(i=>i.schema),r=Object.assign({},...n);return e?Gn(r):Qn(r)}function _e(t,e){return new X({type:t,schema:null,validator:e})}function Rh(t,e){return new X({...t,refiner:(n,r)=>n===void 0||t.refiner(n,r),validator(n,r){return n===void 0?!0:(e(n,r),t.validator(n,r))}})}function Ah(t){return new X({type:"dynamic",schema:null,*entries(e,n){yield*t(e,n).entries(e,n)},validator(e,n){return t(e,n).validator(e,n)},coercer(e,n){return t(e,n).coercer(e,n)},refiner(e,n){return t(e,n).refiner(e,n)}})}function Th(t){let e;return new X({type:"lazy",schema:null,*entries(n,r){e!=null||(e=t()),yield*e.entries(n,r)},validator(n,r){return e!=null||(e=t()),e.validator(n,r)},coercer(n,r){return e!=null||(e=t()),e.coercer(n,r)},refiner(n,r){return e!=null||(e=t()),e.refiner(n,r)}})}function Nh(t,e){const{schema:n}=t,r={...n};for(const i of e)delete r[i];switch(t.type){case"type":return Gn(r);default:return Qn(r)}}function Oh(t){const e=t instanceof X,n=e?{...t.schema}:{...t};for(const r in n)n[r]=qc(n[r]);return e&&t.type==="type"?Gn(n):Qn(n)}function Lh(t,e){const{schema:n}=t,r={};for(const i of e)r[i]=n[i];switch(t.type){case"type":return Gn(r);default:return Qn(r)}}function Dh(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),_e(t,e)}function Ph(){return _e("any",()=>!0)}function jh(t){return new X({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ie(e)}`}})}function Fh(){return _e("bigint",t=>typeof t=="bigint")}function Bh(){return _e("boolean",t=>typeof t=="boolean")}function $h(){return _e("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${ie(t)}`)}function Wh(t){const e={},n=t.map(r=>ie(r)).join();for(const r of t)e[r]=r;return new X({type:"enums",schema:e,validator(r){return t.includes(r)||`Expected one of \`${n}\`, but received: ${ie(r)}`}})}function Hh(){return _e("func",t=>typeof t=="function"||`Expected a function, but received: ${ie(t)}`)}function Vh(t){return _e("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ie(e)}`)}function zh(){return _e("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ie(t)}`)}function Uh(t){return new X({type:"intersection",schema:null,*entries(e,n){for(const r of t)yield*r.entries(e,n)},*validator(e,n){for(const r of t)yield*r.validator(e,n)},*refiner(e,n){for(const r of t)yield*r.refiner(e,n)}})}function qh(t){const e=ie(t),n=typeof t;return new X({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ie(r)}`}})}function Jh(t,e){return new X({type:"map",schema:null,*entries(n){if(t&&e&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,t],yield[r,i,e]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${ie(n)}`}})}function $s(){return _e("never",()=>!1)}function Qh(t){return new X({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Gh(){return _e("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ie(t)}`)}function Qn(t){const e=t?Object.keys(t):[],n=$s();return new X({type:"object",schema:t||null,*entries(r){if(t&&Le(r)){const i=new Set(Object.keys(r));for(const s of e)i.delete(s),yield[s,r[s],t[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return Le(r)||`Expected an object, but received: ${ie(r)}`},coercer(r){return Le(r)?{...r}:r}})}function qc(t){return new X({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Zh(t,e){return new X({type:"record",schema:null,*entries(n){if(Le(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Le(n)||`Expected an object, but received: ${ie(n)}`}})}function Kh(){return _e("regexp",t=>t instanceof RegExp)}function Yh(t){return new X({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const n of e)yield[n,n,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${ie(e)}`}})}function Jc(){return _e("string",t=>typeof t=="string"||`Expected a string, but received: ${ie(t)}`)}function Xh(t){const e=$s();return new X({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ie(n)}`}})}function Gn(t){const e=Object.keys(t);return new X({type:"type",schema:t,*entries(n){if(Le(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Le(n)||`Expected an object, but received: ${ie(n)}`},coercer(n){return Le(n)?{...n}:n}})}function ep(t){const e=t.map(n=>n.type).join(" | ");return new X({type:"union",schema:null,coercer(n){for(const r of t){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of t){const[...o]=Fs(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ie(n)}`,...i]}})}function Qc(){return _e("unknown",()=>!0)}function Ws(t,e,n){return new X({...t,coercer:(r,i)=>Bs(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function tp(t,e,n={}){return Ws(t,Qc(),r=>{const i=typeof e=="function"?e():e;if(r===void 0)return i;if(!n.strict&&ea(r)&&ea(i)){const s={...r};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return r})}function np(t){return Ws(t,Jc(),e=>e.trim())}function rp(t){return jt(t,"empty",e=>{const n=Gc(e);return n===0||`Expected an empty ${t.type} but received one with a size of \`${n}\``})}function Gc(t){return t instanceof Map||t instanceof Set?t.size:t.length}function ip(t,e,n={}){const{exclusive:r}=n;return jt(t,"max",i=>r?i<e:i<=e||`Expected a ${t.type} less than ${r?"":"or equal to "}${e} but received \`${i}\``)}function sp(t,e,n={}){const{exclusive:r}=n;return jt(t,"min",i=>r?i>e:i>=e||`Expected a ${t.type} greater than ${r?"":"or equal to "}${e} but received \`${i}\``)}function op(t){return jt(t,"nonempty",e=>Gc(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function ap(t,e){return jt(t,"pattern",n=>e.test(n)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${n}"`)}function cp(t,e,n=e){const r=`Expected a ${t.type}`,i=e===n?`of \`${e}\``:`between \`${e}\` and \`${n}\``;return jt(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=n||`${r} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=n||`${r} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=n||`${r} with a length ${i} but received one with a length of \`${o}\``}})}function jt(t,e,n){return new X({...t,*refiner(r,i){yield*t.refiner(r,i);const s=n(r,i),o=ds(s,i,t,r);for(const a of o)yield{...a,refinement:e}}})}const up=Object.freeze(Object.defineProperty({__proto__:null,Struct:X,StructError:Hc,any:Ph,array:jh,assert:Vc,assign:Mh,bigint:Fh,boolean:Bh,coerce:Ws,create:zc,date:$h,defaulted:tp,define:_e,deprecated:Rh,dynamic:Ah,empty:rp,enums:Wh,func:Hh,instance:Vh,integer:zh,intersection:Uh,is:Bs,lazy:Th,literal:qh,map:Jh,mask:Uc,max:ip,min:sp,never:$s,nonempty:op,nullable:Qh,number:Gh,object:Qn,omit:Nh,optional:qc,partial:Oh,pattern:ap,pick:Lh,record:Zh,refine:jt,regexp:Kh,set:Yh,size:cp,string:Jc,struct:Dh,trimmed:np,tuple:Xh,type:Gn,union:ep,unknown:Qc,validate:gn},Symbol.toStringTag,{value:"Module"})),Ft=_t(up);Object.defineProperty(le,"__esModule",{value:!0});le.assertExhaustive=le.assertStruct=le.assert=le.AssertionError=void 0;const lp=Ft;function dp(t){return typeof t=="object"&&t!==null&&"message"in t}function fp(t){var e,n;return Boolean(typeof((n=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||n===void 0?void 0:n.name)=="string")}function hp(t){const e=dp(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Zc(t,e){return fp(t)?new t({message:e}):t({message:e})}class Hs extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}le.AssertionError=Hs;function pp(t,e="Assertion failed.",n=Hs){if(!t)throw e instanceof Error?e:Zc(n,e)}le.assert=pp;function bp(t,e,n="Assertion failed",r=Hs){try{(0,lp.assert)(t,e)}catch(i){throw Zc(r,`${n}: ${hp(i)}.`)}}le.assertStruct=bp;function gp(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}le.assertExhaustive=gp;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.base64=void 0;const yp=Ft,mp=le,vp=(t,e={})=>{var n,r;const i=(n=e.paddingRequired)!==null&&n!==void 0?n:!1,s=(r=e.characterSet)!==null&&r!==void 0?r:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,mp.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,yp.pattern)(t,a)};Zn.base64=vp;var P={},Kn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Ft,n=le;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function r(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=r;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,n.assert)(r(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,n.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(Kn);Object.defineProperty(P,"__esModule",{value:!0});P.createDataView=P.concatBytes=P.valueToBytes=P.stringToBytes=P.numberToBytes=P.signedBigIntToBytes=P.bigIntToBytes=P.hexToBytes=P.bytesToString=P.bytesToNumber=P.bytesToSignedBigInt=P.bytesToBigInt=P.bytesToHex=P.assertIsBytes=P.isBytes=void 0;const Ee=le,fs=Kn,ta=48,na=58,ra=87;function _p(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const wp=_p();function Vs(t){return t instanceof Uint8Array}P.isBytes=Vs;function yn(t){(0,Ee.assert)(Vs(t),"Value must be a Uint8Array.")}P.assertIsBytes=yn;function Kc(t){if(yn(t),t.length===0)return"0x";const e=wp(),n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return(0,fs.add0x)(n.join(""))}P.bytesToHex=Kc;function Yc(t){yn(t);const e=Kc(t);return BigInt(e)}P.bytesToBigInt=Yc;function Sp(t){yn(t);let e=BigInt(0);for(const n of t)e=(e<<BigInt(8))+BigInt(n);return BigInt.asIntN(t.length*8,e)}P.bytesToSignedBigInt=Sp;function Ep(t){yn(t);const e=Yc(t);return(0,Ee.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}P.bytesToNumber=Ep;function Cp(t){return yn(t),new TextDecoder().decode(t)}P.bytesToString=Cp;function Qr(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,fs.assertIsHexString)(t);const n=(0,fs.remove0x)(t).toLowerCase(),r=n.length%2===0?n:`0${n}`,i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=r.charCodeAt(s*2),a=r.charCodeAt(s*2+1),c=o-(o<na?ta:ra),u=a-(a<na?ta:ra);i[s]=c*16+u}return i}P.hexToBytes=Qr;function Xc(t){(0,Ee.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ee.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Qr(e)}P.bigIntToBytes=Xc;function xp(t,e){(0,Ee.assert)(e>0);const n=t>>BigInt(31);return!((~t&n)+(t&~n)>>BigInt(e*8+-1))}function kp(t,e){(0,Ee.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ee.assert)(typeof e=="number","Byte length must be a number."),(0,Ee.assert)(e>0,"Byte length must be greater than 0."),(0,Ee.assert)(xp(t,e),"Byte length is too small to represent the given value.");let n=t;const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()}P.signedBigIntToBytes=kp;function eu(t){(0,Ee.assert)(typeof t=="number","Value must be a number."),(0,Ee.assert)(t>=0,"Value must be a non-negative number."),(0,Ee.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Qr(e)}P.numberToBytes=eu;function tu(t){return(0,Ee.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}P.stringToBytes=tu;function nu(t){if(typeof t=="bigint")return Xc(t);if(typeof t=="number")return eu(t);if(typeof t=="string")return t.startsWith("0x")?Qr(t):tu(t);if(Vs(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}P.valueToBytes=nu;function Ip(t){const e=new Array(t.length);let n=0;for(let i=0;i<t.length;i++){const s=nu(t[i]);e[i]=s,n+=s.length}const r=new Uint8Array(n);for(let i=0,s=0;i<e.length;i++)r.set(e[i],s),s+=e[i].length;return r}P.concatBytes=Ip;function Mp(t){if(typeof j.Buffer<"u"&&t instanceof j.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}P.createDataView=Mp;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.ChecksumStruct=void 0;const ia=Ft,Rp=Zn;Gr.ChecksumStruct=(0,ia.size)((0,Rp.base64)((0,ia.string)(),{paddingRequired:!0}),44,44);var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.createHex=Ge.createBytes=Ge.createBigInt=Ge.createNumber=void 0;const J=Ft,Ap=le,ru=P,Zr=Kn,iu=(0,J.union)([(0,J.number)(),(0,J.bigint)(),(0,J.string)(),Zr.StrictHexStruct]),Tp=(0,J.coerce)((0,J.number)(),iu,Number),Np=(0,J.coerce)((0,J.bigint)(),iu,BigInt);(0,J.union)([Zr.StrictHexStruct,(0,J.instance)(Uint8Array)]);const Op=(0,J.coerce)((0,J.instance)(Uint8Array),(0,J.union)([Zr.StrictHexStruct]),ru.hexToBytes),Lp=(0,J.coerce)(Zr.StrictHexStruct,(0,J.instance)(Uint8Array),ru.bytesToHex);function Dp(t){try{const e=(0,J.create)(t,Tp);return(0,Ap.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof J.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}Ge.createNumber=Dp;function Pp(t){try{return(0,J.create)(t,Np)}catch(e){throw e instanceof J.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}Ge.createBigInt=Pp;function jp(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,J.create)(t,Op)}catch(e){throw e instanceof J.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Ge.createBytes=jp;function Fp(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,J.create)(t,Lp)}catch(e){throw e instanceof J.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Ge.createHex=Fp;var tn={},su=C&&C.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ge=C&&C.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Pe,He;Object.defineProperty(tn,"__esModule",{value:!0});tn.FrozenSet=tn.FrozenMap=void 0;class zs{constructor(e){Pe.set(this,void 0),su(this,Pe,new Map(e),"f"),Object.freeze(this)}get size(){return ge(this,Pe,"f").size}[(Pe=new WeakMap,Symbol.iterator)](){return ge(this,Pe,"f")[Symbol.iterator]()}entries(){return ge(this,Pe,"f").entries()}forEach(e,n){return ge(this,Pe,"f").forEach((r,i,s)=>e.call(n,r,i,this))}get(e){return ge(this,Pe,"f").get(e)}has(e){return ge(this,Pe,"f").has(e)}keys(){return ge(this,Pe,"f").keys()}values(){return ge(this,Pe,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,n])=>`${String(e)} => ${String(n)}`).join(", ")} `:""}}`}}tn.FrozenMap=zs;class Us{constructor(e){He.set(this,void 0),su(this,He,new Set(e),"f"),Object.freeze(this)}get size(){return ge(this,He,"f").size}[(He=new WeakMap,Symbol.iterator)](){return ge(this,He,"f")[Symbol.iterator]()}entries(){return ge(this,He,"f").entries()}forEach(e,n){return ge(this,He,"f").forEach((r,i,s)=>e.call(n,r,i,this))}has(e){return ge(this,He,"f").has(e)}keys(){return ge(this,He,"f").keys()}values(){return ge(this,He,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}tn.FrozenSet=Us;Object.freeze(zs);Object.freeze(zs.prototype);Object.freeze(Us);Object.freeze(Us.prototype);var ou={},qs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function n(u){return u==null}t.isNullOrUndefined=n;function r(u){return Boolean(u)&&typeof u=="object"&&!Array.isArray(u)}t.isObject=r;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((f,h)=>o(h)?f+1:f+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(qs);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Ft,n=le,r=qs;t.JsonStruct=(0,e.define)("Json",_=>{const[M]=E(_,!0);return M?!0:"Expected a valid JSON-serializable value"});function i(_){return(0,e.is)(_,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(_){return(0,e.is)(_,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(_,M){(0,n.assertStruct)(_,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",M)}t.assertIsJsonRpcNotification=o;function a(_){return(0,e.is)(_,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(_,M){(0,n.assertStruct)(_,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",M)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(_){return(0,e.is)(_,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(_,M){(0,n.assertStruct)(_,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",M)}t.assertIsPendingJsonRpcResponse=l;function d(_){return(0,e.is)(_,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=d;function f(_,M){(0,n.assertStruct)(_,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",M)}t.assertIsJsonRpcResponse=f;function h(_){return(0,e.is)(_,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=h;function g(_,M){(0,n.assertStruct)(_,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",M)}t.assertIsJsonRpcSuccess=g;function w(_){return(0,e.is)(_,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=w;function y(_,M){(0,n.assertStruct)(_,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",M)}t.assertIsJsonRpcFailure=y;function v(_){return(0,e.is)(_,t.JsonRpcErrorStruct)}t.isJsonRpcError=v;function m(_,M){(0,n.assertStruct)(_,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",M)}t.assertIsJsonRpcError=m;function b(_){const{permitEmptyString:M,permitFractions:D,permitNull:te}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},_);return N=>Boolean(typeof N=="number"&&(D||Number.isInteger(N))||typeof N=="string"&&(M||N.length>0)||te&&N===null)}t.getJsonRpcIdValidator=b;function E(_,M=!1){const D=new Set;function te(k,N){if(k===void 0)return[!1,0];if(k===null)return[!0,N?0:r.JsonSize.Null];const ae=typeof k;try{if(ae==="function")return[!1,0];if(ae==="string"||k instanceof String)return[!0,N?0:(0,r.calculateStringSize)(k)+r.JsonSize.Quote*2];if(ae==="boolean"||k instanceof Boolean)return N?[!0,0]:[!0,k==!0?r.JsonSize.True:r.JsonSize.False];if(ae==="number"||k instanceof Number)return N?[!0,0]:[!0,(0,r.calculateNumberSize)(k)];if(k instanceof Date)return N?[!0,0]:[!0,isNaN(k.getDate())?r.JsonSize.Null:r.JsonSize.Date+r.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,r.isPlainObject)(k)&&!Array.isArray(k))return[!1,0];if(D.has(k))return[!1,0];D.add(k);try{return[!0,Object.entries(k).reduce((B,[de,we],ke,et)=>{let[Sn,Ni]=te(we,N);if(!Sn)throw new Error("JSON validation did not pass. Validation process stopped.");if(D.delete(k),N)return 0;const lr=Array.isArray(k)?0:de.length+r.JsonSize.Comma+r.JsonSize.Colon*2,En=ke<et.length-1?r.JsonSize.Comma:0;return B+lr+Ni+En},N?0:r.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return te(_,M)}t.validateJsonAndGetSize=E})(ou);var nn={},hs={exports:{}},Wi,sa;function Bp(){if(sa)return Wi;sa=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;Wi=function(l,d){d=d||{};var f=typeof l;if(f==="string"&&l.length>0)return o(l);if(f==="number"&&isFinite(l))return d.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(!!d){var f=parseFloat(d[1]),h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(l){var d=Math.abs(l);return d>=r?Math.round(l/r)+"d":d>=n?Math.round(l/n)+"h":d>=e?Math.round(l/e)+"m":d>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var d=Math.abs(l);return d>=r?u(l,d,r,"day"):d>=n?u(l,d,n,"hour"):d>=e?u(l,d,e,"minute"):d>=t?u(l,d,t,"second"):l+" ms"}function u(l,d,f,h){var g=d>=f*1.5;return Math.round(l/f)+" "+h+(g?"s":"")}return Wi}function $p(t){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=o,n.humanize=Bp(),n.destroy=u,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(l){let d,f=null,h,g;function w(...y){if(!w.enabled)return;const v=w,m=Number(new Date),b=m-(d||m);v.diff=b,v.prev=d,v.curr=m,d=m,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let E=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(M,D)=>{if(M==="%%")return"%";E++;const te=n.formatters[D];if(typeof te=="function"){const k=y[E];M=te.call(v,k),y.splice(E,1),E--}return M}),n.formatArgs.call(v,y),(v.log||n.log).apply(v,y)}return w.namespace=l,w.useColors=n.useColors(),w.color=n.selectColor(l),w.extend=r,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(h!==n.namespaces&&(h=n.namespaces,g=n.enabled(l)),g),set:y=>{f=y}}),typeof n.init=="function"&&n.init(w),w}function r(l,d){const f=n(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];let d;const f=(typeof l=="string"?l:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)!f[d]||(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.slice(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(l))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Wp=$p;(function(t,e){e.formatArgs=r,e.save=i,e.load=s,e.useColors=n,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,d=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(l++,f==="%c"&&(d=l))}),c.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof ko.exports<"u"&&"env"in ko.exports&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=Wp(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(hs,hs.exports);var Hp=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nn,"__esModule",{value:!0});nn.createModuleLogger=nn.createProjectLogger=void 0;const Vp=Hp(hs.exports),zp=(0,Vp.default)("metamask");function Up(t){return zp.extend(t)}nn.createProjectLogger=Up;function qp(t,e){return t.extend(e)}nn.createModuleLogger=qp;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.hexToBigInt=Ze.hexToNumber=Ze.bigIntToHex=Ze.numberToHex=void 0;const Gt=le,Fn=Kn,Jp=t=>((0,Gt.assert)(typeof t=="number","Value must be a number."),(0,Gt.assert)(t>=0,"Value must be a non-negative number."),(0,Gt.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Fn.add0x)(t.toString(16)));Ze.numberToHex=Jp;const Qp=t=>((0,Gt.assert)(typeof t=="bigint","Value must be a bigint."),(0,Gt.assert)(t>=0,"Value must be a non-negative bigint."),(0,Fn.add0x)(t.toString(16)));Ze.bigIntToHex=Qp;const Gp=t=>{(0,Fn.assertIsHexString)(t);const e=parseInt(t,16);return(0,Gt.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};Ze.hexToNumber=Gp;const Zp=t=>((0,Fn.assertIsHexString)(t),BigInt((0,Fn.add0x)(t)));Ze.hexToBigInt=Zp;var au={};Object.defineProperty(au,"__esModule",{value:!0});var cu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,n=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function r(s,o){return n(s,"count"),s*o}t.inMilliseconds=r;function i(s){return n(s,"timestamp"),Date.now()-s}t.timeSince=i})(cu);var uu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=ql,n=Ft,r=le;t.VersionStruct=(0,n.refine)((0,n.string)(),"Version",d=>(0,e.valid)(d)===null?`Expected SemVer version, got "${d}"`:!0),t.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",d=>(0,e.validRange)(d)===null?`Expected SemVer range, got "${d}"`:!0);function i(d){return(0,n.is)(d,t.VersionStruct)}t.isValidSemVerVersion=i;function s(d){return(0,n.is)(d,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(d){(0,r.assertStruct)(d,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(d){(0,r.assertStruct)(d,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(d,f){return(0,e.gt)(d,f)}t.gtVersion=c;function u(d,f){return(0,e.gtr)(d,f)}t.gtRange=u;function l(d,f){return(0,e.satisfies)(d,f,{includePrerelease:!0})}t.satisfiesVersionRange=l})(uu);(function(t){var e=C&&C.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=C&&C.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(le,t),n(Zn,t),n(P,t),n(Gr,t),n(Ge,t),n(tn,t),n(Kn,t),n(ou,t),n(nn,t),n(qs,t),n(Ze,t),n(au,t),n(cu,t),n(uu,t)})(Wc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Wc;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})($c);var lu=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.PollingBlockTracker=void 0;const Kp=lu(js),Yp=lu(vh),Xp=Jn,oa=$c,aa=(0,oa.createModuleLogger)(oa.projectLogger,"polling-block-tracker"),e0=(0,Kp.default)(),t0=1e3;class n0 extends Xp.BaseBlockTracker{constructor(e={}){var n;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(n=e.blockResetDuration)!==null&&n!==void 0?n:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*t0,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const n=ca(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await n}catch(n){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=n.stack)!==null&&e!==void 0?e:n}`);try{this.emit("error",r)}catch{console.error(r)}const i=ca(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:e0(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),aa("Making request",e);const n=await(0,Yp.default)(r=>this._provider.sendAsync(e,r))();if(aa("Got response",n),n.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${n.error.message}`);return n.result}}Jr.PollingBlockTracker=n0;function ca(t,e){return new Promise(n=>{const r=setTimeout(n,t);r.unref&&e&&r.unref()})}var Kr={},r0=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.SubscribeBlockTracker=void 0;const i0=r0(js),s0=Jn,o0=(0,i0.default)();class a0 extends s0.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...n){return new Promise((r,i)=>{this._provider.sendAsync({id:o0(),method:e,params:n,jsonrpc:"2.0"},(s,o)=>{s?i(s):r(o.result)})})}_handleSubData(e,n){var r;n.method==="eth_subscription"&&((r=n.params)===null||r===void 0?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(n.params.result.number)}}Kr.SubscribeBlockTracker=a0;var du={};Object.defineProperty(du,"__esModule",{value:!0});(function(t){var e=C&&C.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=C&&C.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Jr,t),n(Kr,t),n(du,t)})(Bc);var Js={},Yr={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.getUniqueId=void 0;const fu=4294967295;let Hi=Math.floor(Math.random()*fu);function c0(){return Hi=(Hi+1)%fu,Hi}Yn.getUniqueId=c0;Object.defineProperty(Yr,"__esModule",{value:!0});Yr.createIdRemapMiddleware=void 0;const u0=Yn;function l0(){return(t,e,n,r)=>{const i=t.id,s=u0.getUniqueId();t.id=s,e.id=s,n(o=>{t.id=i,e.id=i,o()})}}Yr.createIdRemapMiddleware=l0;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.createAsyncMiddleware=void 0;function d0(t){return async(e,n,r,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,r(l=>{a=l,s()}),await o};try{await t(e,n,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Xr.createAsyncMiddleware=d0;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.createScaffoldMiddleware=void 0;function f0(t){return(e,n,r,i)=>{const s=t[e.method];return s===void 0?r():typeof s=="function"?s(e,n,r,i):(n.result=s,i())}}ei.createScaffoldMiddleware=f0;var Xn={},h0=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.JsonRpcEngine=void 0;const p0=h0(Dt),Me=Is;class tt extends p0.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[s,o,a]=await tt._runAllMiddleware(e,n,this._middleware);return o?(await tt._runReturnHandlers(a),i(s)):r(async c=>{try{await tt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise(n=>{this._handle(e,(r,i)=>{n(i)})})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Me.EthereumRpcError(Me.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Me.EthereumRpcError(Me.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}const r=Object.assign({},e),i={id:r.id,jsonrpc:r.jsonrpc};let s=null;try{await this._processRequest(r,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Me.serializeError(s))),n(s,i)}async _processRequest(e,n){const[r,i,s]=await tt._runAllMiddleware(e,n,this._middleware);if(tt._checkForCompletion(e,n,i),await tt._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,n,r){const i=[];let s=null,o=!1;for(const a of r)if([s,o]=await tt._runMiddleware(e,n,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(s=>{const o=c=>{const u=c||n.error;u&&(n.error=Me.serializeError(u)),s([u,!0])},a=c=>{n.error?o(n.error):(c&&(typeof c!="function"&&o(new Me.EthereumRpcError(Me.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Vi(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{r(e,n,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(s=>s?i(s):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Me.EthereumRpcError(Me.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Vi(e)}`,{request:e});if(!r)throw new Me.EthereumRpcError(Me.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Vi(e)}`,{request:e})}}Xn.JsonRpcEngine=tt;function Vi(t){return JSON.stringify(t,null,2)}var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.mergeMiddleware=void 0;const b0=Xn;function g0(t){const e=new b0.JsonRpcEngine;return t.forEach(n=>e.push(n)),e.asMiddleware()}ti.mergeMiddleware=g0;(function(t){var e=C&&C.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=C&&C.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Yr,t),n(Xr,t),n(ei,t),n(Yn,t),n(Xn,t),n(ti,t)})(Js);var hu={},Qs={};const Gs=_t(Hl);var ni={};Object.defineProperty(ni,"__esModule",{value:!0});var ua=Gs,y0=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,n=this.isLocked(),r=new Promise(function(i){return e._queue.push(i)});return n||this._dispatch(),r},t.prototype.runExclusive=function(e){return ua.__awaiter(this,void 0,void 0,function(){var n,r,i;return ua.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:n=s.sent(),r=n[0],i=n[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,n=this._queue.shift();if(!!n){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},n([this._value--,this._currentReleaser])}},t}();ni.default=y0;Object.defineProperty(Qs,"__esModule",{value:!0});var la=Gs,m0=ni,v0=function(){function t(){this._semaphore=new m0.default(1)}return t.prototype.acquire=function(){return la.__awaiter(this,void 0,void 0,function(){var e,n;return la.__generator(this,function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=r.sent(),n=e[1],[2,n]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Qs.default=v0;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.withTimeout=void 0;var gr=Gs;function _0(t,e,n){var r=this;return n===void 0&&(n=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return gr.__awaiter(r,void 0,void 0,function(){var o,a,c;return gr.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(n)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return gr.__awaiter(this,void 0,void 0,function(){var s,o;return gr.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}ri.withTimeout=_0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Qs;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var n=ni;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return n.default}});var r=ri;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return r.withTimeout}})})(hu);const w0=Ul,S0=js();var E0=R;function R(t){const e=this;e.currentProvider=t}R.prototype.getBalance=er(2,"eth_getBalance");R.prototype.getCode=er(2,"eth_getCode");R.prototype.getTransactionCount=er(2,"eth_getTransactionCount");R.prototype.getStorageAt=er(3,"eth_getStorageAt");R.prototype.call=er(2,"eth_call");R.prototype.protocolVersion=O("eth_protocolVersion");R.prototype.syncing=O("eth_syncing");R.prototype.coinbase=O("eth_coinbase");R.prototype.mining=O("eth_mining");R.prototype.hashrate=O("eth_hashrate");R.prototype.gasPrice=O("eth_gasPrice");R.prototype.accounts=O("eth_accounts");R.prototype.blockNumber=O("eth_blockNumber");R.prototype.getBlockTransactionCountByHash=O("eth_getBlockTransactionCountByHash");R.prototype.getBlockTransactionCountByNumber=O("eth_getBlockTransactionCountByNumber");R.prototype.getUncleCountByBlockHash=O("eth_getUncleCountByBlockHash");R.prototype.getUncleCountByBlockNumber=O("eth_getUncleCountByBlockNumber");R.prototype.sign=O("eth_sign");R.prototype.sendTransaction=O("eth_sendTransaction");R.prototype.sendRawTransaction=O("eth_sendRawTransaction");R.prototype.estimateGas=O("eth_estimateGas");R.prototype.getBlockByHash=O("eth_getBlockByHash");R.prototype.getBlockByNumber=O("eth_getBlockByNumber");R.prototype.getTransactionByHash=O("eth_getTransactionByHash");R.prototype.getTransactionByBlockHashAndIndex=O("eth_getTransactionByBlockHashAndIndex");R.prototype.getTransactionByBlockNumberAndIndex=O("eth_getTransactionByBlockNumberAndIndex");R.prototype.getTransactionReceipt=O("eth_getTransactionReceipt");R.prototype.getUncleByBlockHashAndIndex=O("eth_getUncleByBlockHashAndIndex");R.prototype.getUncleByBlockNumberAndIndex=O("eth_getUncleByBlockNumberAndIndex");R.prototype.getCompilers=O("eth_getCompilers");R.prototype.compileLLL=O("eth_compileLLL");R.prototype.compileSolidity=O("eth_compileSolidity");R.prototype.compileSerpent=O("eth_compileSerpent");R.prototype.newFilter=O("eth_newFilter");R.prototype.newBlockFilter=O("eth_newBlockFilter");R.prototype.newPendingTransactionFilter=O("eth_newPendingTransactionFilter");R.prototype.uninstallFilter=O("eth_uninstallFilter");R.prototype.getFilterChanges=O("eth_getFilterChanges");R.prototype.getFilterLogs=O("eth_getFilterLogs");R.prototype.getLogs=O("eth_getLogs");R.prototype.getWork=O("eth_getWork");R.prototype.submitWork=O("eth_submitWork");R.prototype.submitHashrate=O("eth_submitHashrate");R.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(C0(t),function(r,i){if(!r&&i.error&&(r=new Error("EthQuery - RPC Error - "+i.error.message)),r)return e(r);e(null,i.result)})};function O(t){return function(){const e=this;var n=[].slice.call(arguments),r=n.pop();e.sendAsync({method:t,params:n},r)}}function er(t,e){return function(){const n=this;var r=[].slice.call(arguments),i=r.pop();r.length<t&&r.push("latest"),n.sendAsync({method:e,params:r},i)}}function C0(t){return w0({id:S0(),jsonrpc:"2.0",params:[]},t)}const da=(t,e,n,r)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===n?r:this,i)})},fa=new WeakMap;var x0=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const n=typeof t;if(!(t!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":n}\``);const r=(o,a)=>{let c=fa.get(o);if(c||(c={},fa.set(o,c)),a in c)return c[a];const u=g=>typeof g=="string"||typeof a=="symbol"?a===g:g.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),d=l===void 0||l.writable||l.configurable,h=(e.include?e.include.some(u):!e.exclude.some(u))&&d;return c[a]=h,h},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:da(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!r(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=da(c,e,s,o);return i.set(c,l),l}return c}});return s};const k0=Dt.default;class I0 extends k0{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(n=>this.emit("update",n))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Zs=I0;const M0=Zs;class R0 extends M0{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var A0=R0,tr={minBlockRef:T0,maxBlockRef:N0,sortBlockRefs:Ks,bnToHex:O0,blockRefIsNumber:L0,hexToInt:Tr,incrementHexInt:D0,intToHex:pu,unsafeRandomBytes:P0};function T0(...t){return Ks(t)[0]}function N0(...t){const e=Ks(t);return e[e.length-1]}function Ks(t){return t.sort((e,n)=>e==="latest"||n==="earliest"?1:n==="latest"||e==="earliest"?-1:Tr(e)-Tr(n))}function O0(t){return"0x"+t.toString(16)}function L0(t){return t&&!["earliest","latest","pending"].includes(t)}function Tr(t){return t==null?t:Number.parseInt(t,16)}function D0(t){if(t==null)return t;const e=Tr(t);return pu(e+1)}function pu(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function P0(t){let e="0x";for(let n=0;n<t;n++)e+=ha(),e+=ha();return e}function ha(){return Math.floor(Math.random()*16).toString(16)}const j0=E0,F0=x0,B0=A0,{bnToHex:iS,hexToInt:yr,incrementHexInt:$0,minBlockRef:W0,blockRefIsNumber:H0}=tr;class V0 extends B0{constructor({provider:e,params:n}){super(),this.type="log",this.ethQuery=new j0(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},n),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(r=>r.toLowerCase()))}async initialize({currentBlock:e}){let n=this.params.fromBlock;["latest","pending"].includes(n)&&(n=e),n==="earliest"&&(n="0x0"),this.params.fromBlock=n;const r=W0(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:r}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:n}){const r=n;let i;e?i=$0(e):i=n;const s=Object.assign({},this.params,{fromBlock:i,toBlock:r}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await F0(r=>this.ethQuery.getLogs(e,r))()}matchLog(e){if(yr(this.params.fromBlock)>=yr(e.blockNumber)||H0(this.params.toBlock)&&yr(this.params.toBlock)<=yr(e.blockNumber))return!1;const n=e.address&&e.address.toLowerCase();return this.params.address&&n&&!this.params.address.includes(n)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var z0=V0,Ys=U0;async function U0({provider:t,fromBlock:e,toBlock:n}){e||(e=n);const r=pa(e),s=pa(n)-r+1,o=Array(s).fill().map((c,u)=>r+u).map(q0);return await Promise.all(o.map(c=>Q0(t,"eth_getBlockByNumber",[c,!1])))}function pa(t){return t==null?t:Number.parseInt(t,16)}function q0(t){return t==null?t:"0x"+t.toString(16)}function J0(t,e){return new Promise((n,r)=>{t.sendAsync(e,(i,s)=>{i?r(i):s.error?r(s.error):s.result?n(s.result):r(new Error("Result was empty"))})})}async function Q0(t,e,n){for(let r=0;r<3;r++)try{return await J0(t,{id:1,jsonrpc:"2.0",method:e,params:n})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(n)}`)}const G0=Zs,Z0=Ys,{incrementHexInt:K0}=tr;class Y0 extends G0{constructor({provider:e,params:n}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:n}){const r=n,i=K0(e),o=(await Z0({provider:this.provider,fromBlock:i,toBlock:r})).map(a=>a.hash);this.addResults(o)}}var X0=Y0;const eb=Zs,tb=Ys,{incrementHexInt:nb}=tr;class rb extends eb{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const n=e,r=nb(e),i=await tb({provider:this.provider,fromBlock:r,toBlock:n}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var ib=rb;const sb=hu.Mutex,{createAsyncMiddleware:ob,createScaffoldMiddleware:ab}=Js,cb=z0,ub=X0,lb=ib,{intToHex:bu,hexToInt:zi}=tr;var db=fb;function fb({blockTracker:t,provider:e}){let n=0,r={};const i=new sb,s=hb({mutex:i}),o=ab({eth_newFilter:s(Ui(c)),eth_newBlockFilter:s(Ui(u)),eth_newPendingTransactionFilter:s(Ui(l)),eth_uninstallFilter:s(Cr(h)),eth_getFilterChanges:s(Cr(d)),eth_getFilterLogs:s(Cr(f))}),a=async({oldBlock:m,newBlock:b})=>{if(r.length===0)return;const E=await i.acquire();try{await Promise.all(Wt(r).map(async _=>{try{await _.update({oldBlock:m,newBlock:b})}catch(M){console.error(M)}}))}catch(_){console.error(_)}E()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=h,o.getFilterChanges=d,o.getFilterLogs=f,o.destroy=()=>{y()},o;async function c(m){const b=new cb({provider:e,params:m});return await g(b),b}async function u(){const m=new ub({provider:e});return await g(m),m}async function l(){const m=new lb({provider:e});return await g(m),m}async function d(m){const b=zi(m),E=r[b];if(!E)throw new Error(`No filter for index "${b}"`);return E.getChangesAndClear()}async function f(m){const b=zi(m),E=r[b];if(!E)throw new Error(`No filter for index "${b}"`);let _=[];return E.type==="log"&&(_=E.getAllResults()),_}async function h(m){const b=zi(m),E=r[b],_=Boolean(E);return _&&await w(b),_}async function g(m){const b=Wt(r).length,E=await t.getLatestBlock();await m.initialize({currentBlock:E}),n++,r[n]=m,m.id=n,m.idHex=bu(n);const _=Wt(r).length;return v({prevFilterCount:b,newFilterCount:_}),n}async function w(m){const b=Wt(r).length;delete r[m];const E=Wt(r).length;v({prevFilterCount:b,newFilterCount:E})}async function y(){const m=Wt(r).length;r={},v({prevFilterCount:m,newFilterCount:0})}function v({prevFilterCount:m,newFilterCount:b}){if(m===0&&b>0){t.on("sync",a);return}if(m>0&&b===0){t.removeListener("sync",a);return}}}function Ui(t){return Cr(async(...e)=>{const n=await t(...e);return bu(n.id)})}function Cr(t){return ob(async(e,n)=>{const r=await t.apply(null,e.params);n.result=r})}function hb({mutex:t}){return e=>async(n,r,i,s)=>{(await t.acquire())(),e(n,r,i,s)}}function Wt(t,e){const n=[];for(let r in t)n.push(t[r]);return n}const pb=Dt.default,{createAsyncMiddleware:ba,createScaffoldMiddleware:bb}=Js,gb=db,{unsafeRandomBytes:yb,incrementHexInt:mb}=tr,vb=Ys;var _b=wb;function wb({blockTracker:t,provider:e}){const n={},r=gb({blockTracker:t,provider:e});let i=!1;const s=new pb,o=bb({eth_subscribe:ba(a),eth_unsubscribe:ba(c)});return o.destroy=l,{events:s,middleware:o};async function a(d,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const h=d.params[0],g=yb(16);let w;switch(h){case"newHeads":w=y({subId:g});break;case"logs":const m=d.params[1],b=await r.newLogFilter(m);w=v({subId:g,filter:b});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${h}"`)}n[g]=w,f.result=g;return;function y({subId:m}){const b={type:h,destroy:async()=>{t.removeListener("sync",b.update)},update:async({oldBlock:E,newBlock:_})=>{const M=_,D=mb(E);(await vb({provider:e,fromBlock:D,toBlock:M})).map(Sb).filter(N=>N!==null).forEach(N=>{u(m,N)})}};return t.on("sync",b.update),b}function v({subId:m,filter:b}){return b.on("update",_=>u(m,_)),{type:h,destroy:async()=>await r.uninstallFilter(b.idHex)}}}async function c(d,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const h=d.params[0],g=n[h];if(!g){f.result=!1;return}delete n[h],await g.destroy(),f.result=!0}function u(d,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:d,result:f}})}function l(){s.removeAllListeners();for(const d in n)n[d].destroy(),delete n[d];i=!0}}function Sb(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(qr,"__esModule",{value:!0});qr.SubscriptionManager=void 0;const Eb=Bc,Cb=_b,ga=()=>{};class xb{constructor(e){const n=new Eb.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:i}=Cb({blockTracker:n,provider:e});this.events=r,this.subscriptionMiddleware=i}async handleRequest(e){const n={};return await this.subscriptionMiddleware(e,n,ga,ga),n}destroy(){this.subscriptionMiddleware.destroy()}}qr.SubscriptionManager=xb;var Xs=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.CoinbaseWalletProvider=void 0;const kb=Xs(Dt),Ib=Xs(Fr.exports),qi=fn,$=Vn,ya=pn,ma=$e,Ji=Vr,Mb=H,A=S,Qi=Xs(ph),Rb=en,F=Fc,Ab=qr,va="DefaultChainId",_a="DefaultJsonRpcUrl";class Tb extends kb.default{constructor(e){var n,r;super(),this._filterPolyfill=new Rb.FilterPolyfill(this),this._subscriptionManager=new Ab.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this.isCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,A.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(ma.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,A.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,A.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(_a))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(_a,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,n){this.isCoinbaseBrowser||(this._chainIdFromOpts=n,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,n){this.jsonRpcUrl=e;const r=this.getChainId();this._storage.setItem(va,n.toString(10)),((0,A.ensureIntNumber)(n)!==r||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,n,r,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,n,r,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,n,r,i,s,o){var a,c;if((0,A.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const d=await u.addEthereumChain(e.toString(),n,s,r,i,o).promise;return((a=d.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],e),((c=d.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const r=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Mb.isErrorResponse)(r)&&r.errorCode)throw r.errorCode===$.standardErrorCodes.provider.unsupportedChain?$.standardErrors.provider.unsupportedChain(e):$.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode});const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,n){this.initializeRelay().then(r=>r.setAppInfo(e,n))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(qi.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?ya.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(F.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,n){try{const r=this._send(e,n);if(r instanceof Promise)return r.catch(i=>{throw(0,$.serializeError)(i,e)})}catch(r){throw(0,$.serializeError)(r,e)}}_send(e,n){if(typeof e=="string"){const i=e,s=Array.isArray(n)?n:n!==void 0?[n]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof n=="function"){const i=e,s=n;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const r=e;return this._sendRequest(r)}async sendAsync(e,n){try{return this._sendAsync(e,n).catch(r=>{throw(0,$.serializeError)(r,e)})}catch(r){return Promise.reject((0,$.serializeError)(r,e))}}async _sendAsync(e,n){if(typeof n!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=n;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const r=n;return this._sendRequestAsync(e).then(i=>r(null,i)).catch(i=>r(i,null))}async request(e){try{return this._request(e).catch(n=>{throw(0,$.serializeError)(n,e.method)})}catch(n){return Promise.reject((0,$.serializeError)(n,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw $.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw $.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw $.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=r===void 0?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var n;const i=await(await this.initializeRelay()).scanQRCode((0,A.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,$.serializeError)((n=i.errorMessage)!==null&&n!==void 0?n:"result was not a string",Ji.Web3Method.scanQRCode);return i.result}async genericRequest(e,n){var r;const s=await(await this.initializeRelay()).genericRequest(e,n).promise;if(typeof s.result!="string")throw(0,$.serializeError)((r=s.errorMessage)!==null&&r!==void 0?r:"result was not a string",Ji.Web3Method.generic);return s.result}async selectProvider(e){var n;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,$.serializeError)((n=i.errorMessage)!==null&&n!==void 0?n:"result was not a string",Ji.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const n={jsonrpc:"2.0",id:e.id},{method:r}=e;if(n.result=this._handleSynchronousMethods(e),n.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return n}_setAddresses(e,n){if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map(i=>(0,A.ensureAddressString)(i));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(ma.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" ")))}_sendRequestAsync(e){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return n({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>n(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>r(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>n({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>r(a));return}}catch(i){return r(i)}this._handleAsynchronousMethods(e).then(i=>i&&n(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>r(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(n=>this._sendRequestAsync(n)))}_handleSynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case F.JSONRPCMethod.eth_accounts:return this._eth_accounts();case F.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case F.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case F.JSONRPCMethod.net_version:return this._net_version();case F.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case F.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case F.JSONRPCMethod.eth_sign:return this._eth_sign(r);case F.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case F.JSONRPCMethod.personal_sign:return this._personal_sign(r);case F.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case F.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case F.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case F.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case F.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case F.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case F.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case F.JSONRPCMethod.eth_signTypedData_v4:case F.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case F.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(r);case F.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case F.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case F.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:n}=e,r=e.params||[];switch(n){case F.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case F.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case F.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case F.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case F.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case F.JSONRPCMethod.eth_subscribe:case F.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const n=(0,A.ensureAddressString)(e);return this._addresses.map(i=>(0,A.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(e){var n;if(!this._isKnownAddress(e))throw(n=this.diagnostic)===null||n===void 0||n.log(qi.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?(0,A.ensureAddressString)(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?(0,A.ensureAddressString)(e.to):null,i=e.value!=null?(0,A.ensureBN)(e.value):new Ib.default(0),s=e.data?(0,A.ensureBuffer)(e.data):j.Buffer.alloc(0),o=e.nonce!=null?(0,A.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,A.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,A.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,A.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,A.ensureBN)(e.gas):null,d=this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:d}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw $.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw $.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,n,r,i){this._ensureKnownAddress(n);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,n,r,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?$.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,n,r){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,n,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,A.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(va);if(!e)return(0,A.ensureIntNumber)(this._chainIdFromOpts);const n=parseInt(e,10);return(0,A.ensureIntNumber)(n)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(qi.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?ya.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let n;try{n=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?$.standardErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!n.result)throw new Error("accounts received is empty");return this._setAddresses(n.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const n=(0,A.ensureAddressString)(e[0]),r=(0,A.ensureBuffer)(e[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(e){const n=(0,A.ensureBuffer)(e[0]),r=(0,A.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(e){this._requireAuthorization();const n=(0,A.ensureBuffer)(e[0]),r=(0,A.ensureAddressString)(e[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(e){const n=(0,A.ensureBuffer)(e[0]),r=(0,A.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?$.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(e){const n=(0,A.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(n,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?$.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const n=(0,A.ensureParsedJSONObject)(e[0]),r=(0,A.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const i=Qi.default.hashForSignTypedDataLegacy({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const n=(0,A.ensureAddressString)(e[0]),r=(0,A.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=Qi.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const n=(0,A.ensureAddressString)(e[0]),r=(0,A.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=Qi.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _cbwallet_arbitrary(e){const n=e[0],r=e[1];if(typeof r!="string")throw new Error("parameter must be a string");if(typeof n!="object"||n===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(n,r)}}async _wallet_addEthereumChain(e){var n,r,i,s;const o=e[0];if(((n=o.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw $.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw $.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(r=o.rpcUrls)!==null&&r!==void 0?r:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const n=e[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw $.standardErrors.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw $.standardErrors.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw $.standardErrors.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw $.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,s,a,o,r)}}_eth_uninstallFilter(e){const n=(0,A.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(n)}async _eth_newFilter(e){const n=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(n)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const n=(0,A.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(n)}_eth_getFilterLogs(e){const n=(0,A.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(n)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((n,r)=>this._setAddresses(n,r)),e.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Kt.CoinbaseWalletProvider=Tb;var ii={},si={},nr,V,gu,yu,Mt,wa,mu,ps,vu,Bn={},_u=[],Nb=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oi=Array.isArray;function nt(t,e){for(var n in e)t[n]=e[n];return t}function wu(t){var e=t.parentNode;e&&e.removeChild(t)}function bs(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?nr.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return On(t,o,r,i,null)}function On(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i==null?++gu:i,__i:-1,__u:0};return i==null&&V.vnode!=null&&V.vnode(s),s}function Ob(){return{current:null}}function rr(t){return t.children}function Ln(t,e){this.props=t,this.context=e}function rn(t,e){if(e==null)return t.__?rn(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?rn(t):null}function Su(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Su(t)}}function gs(t){(!t.__d&&(t.__d=!0)&&Mt.push(t)&&!Nr.__r++||wa!==V.debounceRendering)&&((wa=V.debounceRendering)||mu)(Nr)}function Nr(){var t,e,n,r,i,s,o,a,c;for(Mt.sort(ps);t=Mt.shift();)t.__d&&(e=Mt.length,r=void 0,s=(i=(n=t).__v).__e,a=[],c=[],(o=n.__P)&&((r=nt({},i)).__v=i.__v+1,V.vnode&&V.vnode(r),eo(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s==null?rn(i):s,!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,ku(a,r,c),r.__e!=s&&Su(r)),Mt.length>e&&Mt.sort(ps));Nr.__r=0}function Eu(t,e,n,r,i,s,o,a,c,u,l){var d,f,h,g,w,y=r&&r.__k||_u,v=e.length;for(n.__d=c,Lb(n,e,y),c=n.__d,d=0;d<v;d++)(h=n.__k[d])!=null&&typeof h!="boolean"&&typeof h!="function"&&(f=h.__i===-1?Bn:y[h.__i]||Bn,h.__i=d,eo(t,h,f,i,s,o,a,c,u,l),g=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&to(f.ref,null,h),l.push(h.ref,h.__c||g,h)),w==null&&g!=null&&(w=g),65536&h.__u||f.__k===h.__k?c=Cu(h,c,t):typeof h.type=="function"&&h.__d!==void 0?c=h.__d:g&&(c=g.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=c,n.__e=w}function Lb(t,e,n){var r,i,s,o,a,c=e.length,u=n.length,l=u,d=0;for(t.__k=[],r=0;r<c;r++)o=r+d,(i=t.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?On(null,i,null,null,null):oi(i)?On(rr,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?On(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=Db(i,n,o,l),i.__i=a,s=null,a!==-1&&(l--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?d++:a>o?l>c-o?d+=a-o:d--:a<o?a==o-1&&(d=a-o):d=0,a!==r+d&&(i.__u|=65536))):(s=n[o])&&s.key==null&&s.__e&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=rn(s)),ys(s,s,!1),n[o]=null,l--);if(l)for(r=0;r<u;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=rn(s)),ys(s,s))}function Cu(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Cu(r[i],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function xu(t,e){return e=e||[],t==null||typeof t=="boolean"||(oi(t)?t.some(function(n){xu(n,e)}):e.push(t)),e}function Db(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&(131072&c.__u)==0)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return a;a++}}return-1}function Sa(t,e,n){e[0]==="-"?t.setProperty(e,n==null?"":n):t[e]=n==null?"":typeof n!="number"||Nb.test(e)?n:n+"px"}function mr(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Sa(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Sa(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,s?Ca:Ea,s)):t.removeEventListener(e,s?Ca:Ea,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Ea(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(V.event?V.event(t):t)}}function Ca(t){if(this.l)return this.l[t.type+!0](V.event?V.event(t):t)}function eo(t,e,n,r,i,s,o,a,c,u){var l,d,f,h,g,w,y,v,m,b,E,_,M,D,te,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(l=V.__b)&&l(e);e:if(typeof k=="function")try{if(v=e.props,m=(l=k.contextType)&&r[l.__c],b=l?m?m.props.value:l.__:r,n.__c?y=(d=e.__c=n.__c).__=d.__E:("prototype"in k&&k.prototype.render?e.__c=d=new k(v,b):(e.__c=d=new Ln(v,b),d.constructor=k,d.render=jb),m&&m.sub(d),d.props=v,d.state||(d.state={}),d.context=b,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),k.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=nt({},d.__s)),nt(d.__s,k.getDerivedStateFromProps(v,d.__s))),h=d.props,g=d.state,d.__v=e,f)k.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(k.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,b),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,b)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(N){N&&(N.__=e)}),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,b),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,g,w)})}if(d.context=b,d.props=v,d.__P=t,d.__e=!1,_=V.__r,M=0,"prototype"in k&&k.prototype.render){for(d.state=d.__s,d.__d=!1,_&&_(e),l=d.render(d.props,d.state,d.context),D=0;D<d._sb.length;D++)d.__h.push(d._sb[D]);d._sb=[]}else do d.__d=!1,_&&_(e),l=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++M<25);d.state=d.__s,d.getChildContext!=null&&(r=nt(nt({},r),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(w=d.getSnapshotBeforeUpdate(h,g)),Eu(t,oi(te=l!=null&&l.type===rr&&l.key==null?l.props.children:l)?te:[te],e,n,r,i,s,o,a,c,u),d.base=e.__e,e.__u&=-161,d.__h.length&&o.push(d),y&&(d.__E=d.__=null)}catch(N){e.__v=null,c||s!=null?(e.__e=a,e.__u|=c?160:32,s[s.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),V.__e(N,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Pb(n.__e,e,n,r,i,s,o,c,u);(l=V.diffed)&&l(e)}function ku(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)to(n[r],n[++r],n[++r]);V.__c&&V.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){V.__e(s,i.__v)}})}function Pb(t,e,n,r,i,s,o,a,c){var u,l,d,f,h,g,w,y=n.props,v=e.props,m=e.type;if(m==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((h=s[u])&&"setAttribute"in h==!!m&&(m?h.localName===m:h.nodeType===3)){t=h,s[u]=null;break}}if(t==null){if(m===null)return document.createTextNode(v);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,v.is&&v),s=null,a=!1}if(m===null)y===v||a&&t.data===v||(t.data=v);else{if(s=s&&nr.call(t.childNodes),y=n.props||Bn,!a&&s!=null)for(y={},u=0;u<t.attributes.length;u++)y[(h=t.attributes[u]).name]=h.value;for(u in y)h=y[u],u=="children"||(u=="dangerouslySetInnerHTML"?d=h:u==="key"||u in v||mr(t,u,null,h,i));for(u in v)h=v[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?l=h:u=="value"?g=h:u=="checked"?w=h:u==="key"||a&&typeof h!="function"||y[u]===h||mr(t,u,h,y[u],i);if(l)a||d&&(l.__html===d.__html||l.__html===t.innerHTML)||(t.innerHTML=l.__html),e.__k=[];else if(d&&(t.innerHTML=""),Eu(t,oi(f)?f:[f],e,n,r,i&&m!=="foreignObject",s,o,s?s[0]:n.__k&&rn(n,0),a,c),s!=null)for(u=s.length;u--;)s[u]!=null&&wu(s[u]);a||(u="value",g!==void 0&&(g!==t[u]||m==="progress"&&!g||m==="option"&&g!==y[u])&&mr(t,u,g,y[u],!1),u="checked",w!==void 0&&w!==t[u]&&mr(t,u,w,y[u],!1))}return t}function to(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){V.__e(r,n)}}function ys(t,e,n){var r,i;if(V.unmount&&V.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||to(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){V.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&ys(r[i],e,n||typeof t.type!="function");n||t.__e==null||wu(t.__e),t.__=t.__e=t.__d=void 0}function jb(t,e,n){return this.constructor(t,n)}function Iu(t,e,n){var r,i,s,o;V.__&&V.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],o=[],eo(e,t=(!r&&n||e).__k=bs(rr,null,[t]),i||Bn,Bn,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?nr.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),ku(s,t,o)}function Mu(t,e){Iu(t,e,Mu)}function Fb(t,e,n){var r,i,s,o,a=nt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?nr.call(arguments,2):n),On(t.type,a,r||t.key,i||t.ref,null)}function Bb(t,e){var n={__c:e="__cC"+vu++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,gs(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}nr=_u.slice,V={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},gu=0,yu=function(t){return t!=null&&t.constructor==null},Ln.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=nt({},this.state),typeof t=="function"&&(t=t(nt({},n),this.props)),t&&nt(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),gs(this))},Ln.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),gs(this))},Ln.prototype.render=rr,Mt=[],mu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ps=function(t,e){return t.__v.__b-e.__v.__b},Nr.__r=0,vu=0;const $b=Object.freeze(Object.defineProperty({__proto__:null,Component:Ln,Fragment:rr,cloneElement:Fb,createContext:Bb,createElement:bs,createRef:Ob,h:bs,hydrate:Mu,get isValidElement(){return yu},get options(){return V},render:Iu,toChildArray:xu},Symbol.toStringTag,{value:"Module"})),xe=_t($b);function sn(t){return typeof t=="function"}var xa=!1,Ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}xa=t},get useDeprecatedSynchronousErrorHandling(){return xa}};function Ut(t){setTimeout(function(){throw t},0)}var Or={closed:!0,next:function(t){},error:function(t){if(Ae.useDeprecatedSynchronousErrorHandling)throw t;Ut(t)},complete:function(){}},ye=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function no(t){return t!==null&&typeof t=="object"}var Wb=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Dn=Wb,Q=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,s=n._unsubscribe,o=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var c=r[a];c.remove(this)}if(sn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(d){e=d instanceof Dn?ka(d.errors):[d]}}if(ye(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(no(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Dn?e=e.concat(ka(f.errors)):e.push(f)}}if(e)throw new Dn(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(i===null)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return n;var s=this._subscriptions;return s===null?this._subscriptions=[n]:s.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function ka(t){return t.reduce(function(e,n){return e.concat(n instanceof Dn?n.errors:n)},[])}var Lr=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),x=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Or;break;case 1:if(!n){s.destination=Or;break}if(typeof n=="object"){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new Ia(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new Ia(s,n,r,i);break}return s}return e.prototype[Lr]=function(){return this},e.create=function(n,r,i){var s=new e(n,r,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(Q),Ia=function(t){p.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this)||this;o._parentSubscriber=n;var a,c=o;return sn(r)?a=r:r&&(a=r.next,i=r.error,s=r.complete,r!==Or&&(c=Object.create(r),sn(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!Ae.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},e.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,i=Ae.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=n,r.syncErrorThrown=!0):Ut(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;Ut(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return n._complete.call(n._context)};!Ae.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(i){if(this.unsubscribe(),Ae.useDeprecatedSynchronousErrorHandling)throw i;Ut(i)}},e.prototype.__tryOrSetError=function(n,r,i){if(!Ae.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(s){return Ae.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=s,n.syncErrorThrown=!0,!0):(Ut(s),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(x);function ro(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;r&&r instanceof x?t=r:t=null}return!0}function Hb(t,e,n){if(t){if(t instanceof x)return t;if(t[Lr])return t[Lr]()}return!t&&!e&&!n?new x(Or):new x(t,e,n)}var mn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function yt(t){return t}function ms(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ru(t)}function Ru(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var T=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this.operator,s=Hb(e,n,r);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ae.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ae.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){Ae.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),ro(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Ma(n),new n(function(i,s){var o;o=r.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[mn]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:Ru(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Ma(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Ma(t){if(t||(t=Ae.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Vb=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),ft=Vb,Au=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.subject=n,i.subscriber=r,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},e}(Q),Tu=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.destination=n,r}return e}(x),oe=function(t){p.exports.__extends(e,t);function e(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype[Lr]=function(){return new Tu(this)},e.prototype.lift=function(n){var r=new Ra(this,this);return r.operator=n,r},e.prototype.next=function(n){if(this.closed)throw new ft;if(!this.isStopped)for(var r=this.observers,i=r.length,s=r.slice(),o=0;o<i;o++)s[o].next(n)},e.prototype.error=function(n){if(this.closed)throw new ft;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,i=r.length,s=r.slice(),o=0;o<i;o++)s[o].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new ft;this.isStopped=!0;for(var n=this.observers,r=n.length,i=n.slice(),s=0;s<r;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(n){if(this.closed)throw new ft;return t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){if(this.closed)throw new ft;return this.hasError?(n.error(this.thrownError),Q.EMPTY):this.isStopped?(n.complete(),Q.EMPTY):(this.observers.push(n),new Au(this,n))},e.prototype.asObservable=function(){var n=new T;return n.source=this,n},e.create=function(n,r){return new Ra(n,r)},e}(T),Ra=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},e.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):Q.EMPTY},e}(oe);function io(){return function(e){return e.lift(new zb(e))}}var zb=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,n){var r=this.connectable;r._refCount++;var i=new Ub(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s},t}(),Ub=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._unsubscribe=function(){var n=this.connectable;if(!n){this.connection=null;return}this.connectable=null;var r=n._refCount;if(r<=0){this.connection=null;return}if(n._refCount=r-1,r>1){this.connection=null;return}var i=this.connection,s=n._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(x),Nu=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,n=this._connection=new Q,n.add(this.source.subscribe(new Jb(this.getSubject(),this))),n.closed&&(this._connection=null,n=Q.EMPTY)),n},e.prototype.refCount=function(){return io()(this)},e}(T),qb=function(){var t=Nu.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Jb=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._error=function(n){this._unsubscribe(),t.prototype._error.call(this,n)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},e}(Tu);function Qb(t,e,n,r){return function(i){return i.lift(new Gb(t,e,n,r))}}var Gb=function(){function t(e,n,r,i){this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return t.prototype.call=function(e,n){return n.subscribe(new Zb(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Zb=function(t){p.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.keySelector=r,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(n){var r;try{r=this.keySelector(n)}catch(i){this.error(i);return}this._group(n,r)},e.prototype._group=function(n,r){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(r),o;if(this.elementSelector)try{o=this.elementSelector(n)}catch(u){this.error(u)}else o=n;if(!s){s=this.subjectSelector?this.subjectSelector():new oe,i.set(r,s);var a=new vs(r,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new vs(r,s))}catch(u){this.error(u);return}this.add(c.subscribe(new Kb(r,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(n){var r=this.groups;r&&(r.forEach(function(i,s){i.error(n)}),r.clear()),this.destination.error(n)},e.prototype._complete=function(){var n=this.groups;n&&(n.forEach(function(r,i){r.complete()}),n.clear()),this.destination.complete()},e.prototype.removeGroup=function(n){this.groups.delete(n)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(x),Kb=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.key=n,s.group=r,s.parent=i,s}return e.prototype._next=function(n){this.complete()},e.prototype._unsubscribe=function(){var n=this,r=n.parent,i=n.key;this.key=this.parent=null,r&&r.removeGroup(i)},e}(x),vs=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this)||this;return s.key=n,s.groupSubject=r,s.refCountSubscription=i,s}return e.prototype._subscribe=function(n){var r=new Q,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&r.add(new Yb(s)),r.add(o.subscribe(n)),r},e}(T),Yb=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,n.count++,r}return e.prototype.unsubscribe=function(){var n=this.parent;!n.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),n.count-=1,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},e}(Q),Ou=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ft;return this._value},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(oe),Xb=function(t){p.exports.__extends(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Q),ir=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s=void 0;try{this.work(n)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,i=r.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},e}(Xb),eg=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):n.flush(this)},e}(ir),_s=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(r,n)},t.now=function(){return Date.now()},t}(),sr=function(t){p.exports.__extends(e,t);function e(n,r){r===void 0&&(r=_s.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(n,r,i){return r===void 0&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var i;this.active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(_s),tg=function(t){p.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(sr),Lu=new tg(eg),Du=Lu,on=new T(function(t){return t.complete()});function vn(t){return t?ng(t):on}function ng(t){return new T(function(e){return t.schedule(function(){return e.complete()})})}function Ce(t){return t&&typeof t.schedule=="function"}var Pu=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function so(t,e){return new T(function(n){var r=new Q,i=0;return r.add(e.schedule(function(){if(i===t.length){n.complete();return}n.next(t[i++]),n.closed||r.add(this.schedule())})),r})}function or(t,e){return e?so(t,e):new T(Pu(t))}function ai(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Ce(n)?(t.pop(),so(t,n)):or(t)}function oo(t,e){return e?new T(function(n){return e.schedule(rg,0,{error:t,subscriber:n})}):new T(function(n){return n.error(t)})}function rg(t){var e=t.error,n=t.subscriber;n.error(e)}var ws;ws||(ws={});var rt=function(){function t(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,n,r){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},t.prototype.accept=function(e,n,r){return e&&typeof e.next=="function"?this.observe(e):this.do(e,n,r)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ai(this.value);case"E":return oo(this.error);case"C":return vn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function ig(t,e){return e===void 0&&(e=0),function(r){return r.lift(new sg(t,e))}}var sg=function(){function t(e,n){n===void 0&&(n=0),this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return n.subscribe(new ju(e,this.scheduler,this.delay))},t}(),ju=function(t){p.exports.__extends(e,t);function e(n,r,i){i===void 0&&(i=0);var s=t.call(this,n)||this;return s.scheduler=r,s.delay=i,s}return e.dispatch=function(n){var r=n.notification,i=n.destination;r.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(n){var r=this.destination;r.add(this.scheduler.schedule(e.dispatch,this.delay,new og(n,this.destination)))},e.prototype._next=function(n){this.scheduleMessage(rt.createNext(n))},e.prototype._error=function(n){this.scheduleMessage(rt.createError(n)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(rt.createComplete()),this.unsubscribe()},e}(x),og=function(){function t(e,n){this.notification=e,this.destination=n}return t}(),ao=function(t){p.exports.__extends(e,t);function e(n,r,i){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=n<1?1:n,s._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,n)},e.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new ag(this._getNow(),n)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new ft;if(this.isStopped||this.hasError?a=Q.EMPTY:(this.observers.push(n),a=new Au(this,n)),s&&n.add(n=new ju(n,s)),r)for(var c=0;c<o&&!n.closed;c++)n.next(i[c]);else for(var c=0;c<o&&!n.closed;c++)n.next(i[c].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Du).now()},e.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(n-s[a].time<i);)a++;return o>r&&(a=Math.max(a,o-r)),a>0&&s.splice(0,a),s},e}(oe),ag=function(){function t(e,n){this.time=e,this.value=n}return t}(),_n=function(t){p.exports.__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return e.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),Q.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),Q.EMPTY):t.prototype._subscribe.call(this,n)},e.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},e.prototype.error=function(n){this.hasCompleted||t.prototype.error.call(this,n)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(oe),cg=1,ug=function(){return Promise.resolve()}(),Ss={};function Aa(t){return t in Ss?(delete Ss[t],!0):!1}var Ta={setImmediate:function(t){var e=cg++;return Ss[e]=!0,ug.then(function(){return Aa(e)&&t()}),e},clearImmediate:function(t){Aa(t)}},lg=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=Ta.setImmediate(n.flush.bind(n,null))))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(Ta.clearImmediate(r),n.scheduled=void 0)},e}(ir),dg=function(t){p.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,s=-1,o=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++s<o&&(n=r.shift()));if(this.active=!1,i){for(;++s<o&&(n=r.shift());)n.unsubscribe();throw i}},e}(sr),Fu=new dg(lg),xr=Fu,Bu=new sr(ir),me=Bu,fg=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(cancelAnimationFrame(r),n.scheduled=void 0)},e}(ir),hg=function(t){p.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,s=-1,o=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++s<o&&(n=r.shift()));if(this.active=!1,i){for(;++s<o&&(n=r.shift());)n.unsubscribe();throw i}},e}(sr),$u=new hg(fg),pg=$u,bg=function(t){p.exports.__extends(e,t);function e(n,r){n===void 0&&(n=Wu),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,n,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var n=this,r=n.actions,i=n.maxFrames,s,o;(o=r[0])&&o.delay<=i&&(r.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=r.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(sr),Wu=function(t){p.exports.__extends(e,t);function e(n,r,i){i===void 0&&(i=n.index+=1);var s=t.call(this,n,r)||this;return s.scheduler=n,s.work=r,s.index=i,s.active=!0,s.index=n.index=i,s}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(n,r,i){i===void 0&&(i=0),this.delay=n.frame+i;var s=n.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(n,r,i){},e.prototype._execute=function(n,r){if(this.active===!0)return t.prototype._execute.call(this,n,r)},e.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},e}(ir);function Ue(){}function gg(t){return!!t&&(t instanceof T||typeof t.lift=="function"&&typeof t.subscribe=="function")}var yg=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),an=yg,mg=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ar=mg,vg=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Hu=vg;function De(t,e){return function(r){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new _g(t,e))}}var _g=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new wg(e,this.project,this.thisArg))},t}(),wg=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.project=r,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(x);function Vu(t,e,n){if(e)if(Ce(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Vu(t,n).apply(void 0,r).pipe(De(function(s){return ye(s)?e.apply(void 0,s):e(s)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:n};return new T(function(c){if(n){var l={args:r,subscriber:c,params:a};return n.schedule(Sg,0,l)}else{if(!o){o=new _n;var u=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];o.next(d.length<=1?d[0]:d),o.complete()};try{t.apply(s,r.concat([u]))}catch(d){ro(o)?o.error(d):console.warn(d)}}return o.subscribe(c)}})}}function Sg(t){var e=this,n=t.args,r=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new _n;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.length<=1?l[0]:l;e.add(a.schedule(Eg,0,{value:f,subject:c}))};try{s.apply(o,n.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(r))}function Eg(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function zu(t,e,n){if(e)if(Ce(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return zu(t,n).apply(void 0,r).pipe(De(function(s){return ye(s)?e.apply(void 0,s):e(s)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s={subject:void 0,args:r,callbackFunc:t,scheduler:n,context:this};return new T(function(o){var a=s.context,c=s.subject;if(n)return n.schedule(Cg,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new _n;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,r.concat([u]))}catch(l){ro(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function Cg(t){var e=this,n=t.params,r=t.subscriber,i=t.context,s=n.callbackFunc,o=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new _n;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f)e.add(a.schedule(Na,0,{err:f,subject:c}));else{var h=l.length<=1?l[0]:l;e.add(a.schedule(xg,0,{value:h,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(Na,0,{err:l,subject:c}))}}this.add(c.subscribe(r))}function xg(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Na(t){var e=t.err,n=t.subject;n.error(e)}var Bt=function(t){p.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n,r,i,s,o){this.destination.next(r)},e.prototype.notifyError=function(n,r){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(x),kg=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this)||this;return s.parent=n,s.outerValue=r,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(x),Ig=function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,Ut),e}};function Mg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mt=Mg(),Rg=function(t){return function(e){var n=t[mt]();do{var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}while(!0);return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}},Ag=function(t){return function(e){var n=t[mn]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Uu=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function qu(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var $n=function(t){if(!!t&&typeof t[mn]=="function")return Ag(t);if(Uu(t))return Pu(t);if(qu(t))return Ig(t);if(!!t&&typeof t[mt]=="function")return Rg(t);var e=no(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function it(t,e,n,r,i){if(i===void 0&&(i=new kg(t,n,r)),!i.closed)return e instanceof T?e.subscribe(i):$n(e)(i)}var Oa={};function Tg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return Ce(t[t.length-1])&&(r=t.pop()),typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&ye(t[0])&&(t=t[0]),or(t,r).lift(new co(n))}var co=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Ng(e,this.resultSelector))},t}(),Ng=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(n){this.values.push(Oa),this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{this.active=r,this.toRespond=r;for(var i=0;i<r;i++){var s=n[i];this.add(it(this,s,void 0,i))}}},e.prototype.notifyComplete=function(n){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(n,r,i){var s=this.values,o=s[i],a=this.toRespond?o===Oa?--this.toRespond:this.toRespond:0;s[i]=r,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(Bt);function Og(t,e){return new T(function(n){var r=new Q;return r.add(e.schedule(function(){var i=t[mn]();r.add(i.subscribe({next:function(s){r.add(e.schedule(function(){return n.next(s)}))},error:function(s){r.add(e.schedule(function(){return n.error(s)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}function Lg(t,e){return new T(function(n){var r=new Q;return r.add(e.schedule(function(){return t.then(function(i){r.add(e.schedule(function(){n.next(i),r.add(e.schedule(function(){return n.complete()}))}))},function(i){r.add(e.schedule(function(){return n.error(i)}))})})),r})}function Dg(t,e){if(!t)throw new Error("Iterable cannot be null");return new T(function(n){var r=new Q,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(e.schedule(function(){i=t[mt](),r.add(e.schedule(function(){if(!n.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){n.error(c);return}o?n.complete():(n.next(s),this.schedule())}}))})),r})}function Pg(t){return t&&typeof t[mn]=="function"}function jg(t){return t&&typeof t[mt]=="function"}function Ju(t,e){if(t!=null){if(Pg(t))return Og(t,e);if(qu(t))return Lg(t,e);if(Uu(t))return so(t,e);if(jg(t)||typeof t=="string")return Dg(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function ot(t,e){return e?Ju(t,e):t instanceof T?t:new T($n(t))}var G=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,r}return e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(x),Z=function(t){p.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(x);function K(t,e){if(!e.closed){if(t instanceof T)return t.subscribe(e);var n;try{n=$n(t)(e)}catch(r){e.error(r)}return n}}function Ot(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(r){return r.pipe(Ot(function(i,s){return ot(t(i,s)).pipe(De(function(o,a){return e(i,o,s,a)}))},n))}:(typeof e=="number"&&(n=e),function(r){return r.lift(new Fg(t,n))})}var Fg=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new Bg(e,this.project,this.concurrent))},t}(),Bg=function(t){p.exports.__extends(e,t);function e(n,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,n)||this;return s.project=r,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new G(this),i=this.destination;i.add(r);var s=K(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Z),$g=Ot;function uo(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Ot(yt,t)}function Qu(){return uo(1)}function Wn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Qu()(ai.apply(void 0,t))}function lo(t){return new T(function(e){var n;try{n=t()}catch(i){e.error(i);return}var r=n?ot(n):vn();return r.subscribe(e)})}function Wg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var n=t[0];if(ye(n))return vr(n,null);if(no(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return vr(r.map(function(s){return n[s]}),r)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&ye(t[0])?t[0]:t,vr(t,null).pipe(De(function(s){return i.apply(void 0,s)}))}return vr(t,null)}function vr(t,e){return new T(function(n){var r=t.length;if(r===0){n.complete();return}for(var i=new Array(r),s=0,o=0,a=function(u){var l=ot(t[u]),d=!1;n.add(l.subscribe({next:function(f){d||(d=!0,o++),i[u]=f},error:function(f){return n.error(f)},complete:function(){s++,(s===r||!d)&&(o===r&&n.next(e?e.reduce(function(f,h,g){return f[h]=i[g],f},{}):i),n.complete())}}))},c=0;c<r;c++)a(c)})}function Gu(t,e,n,r){return sn(n)&&(r=n,n=void 0),r?Gu(t,e,n).pipe(De(function(i){return ye(i)?r.apply(void 0,i):r(i)})):new T(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Zu(t,e,s,i,n)})}function Zu(t,e,n,r,i){var s;if(zg(t)){var o=t;t.addEventListener(e,n,i),s=function(){return o.removeEventListener(e,n,i)}}else if(Vg(t)){var a=t;t.on(e,n),s=function(){return a.off(e,n)}}else if(Hg(t)){var c=t;t.addListener(e,n),s=function(){return c.removeListener(e,n)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)Zu(t[u],e,n,r,i);else throw new TypeError("Invalid event target");r.add(s)}function Hg(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Vg(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function zg(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Ku(t,e,n){return n?Ku(t,e).pipe(De(function(r){return ye(r)?n.apply(void 0,r):n(r)})):new T(function(r){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return r.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){r.error(o);return}if(!!sn(e))return function(){return e(i,s)}})}function Ug(t,e,n,r,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,n=a.iterate,s=a.resultSelector||yt,i=a.scheduler}else r===void 0||Ce(r)?(o=t,s=yt,i=r):(o=t,s=r);return new T(function(c){var u=o;if(i)return i.schedule(qg,0,{subscriber:c,iterate:n,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var d=void 0;try{d=s(u)}catch(f){c.error(f);return}if(c.next(d),c.closed)break;try{u=n(u)}catch(f){c.error(f);return}}while(!0)})}function qg(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(s){e.error(s);return}if(!r){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function Jg(t,e,n){return e===void 0&&(e=on),n===void 0&&(n=on),lo(function(){return t()?e:n})}function cn(t){return!ye(t)&&t-parseFloat(t)+1>=0}function Qg(t,e){return t===void 0&&(t=0),e===void 0&&(e=me),(!cn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=me),new T(function(n){return n.add(e.schedule(Gg,t,{subscriber:n,counter:0,period:t})),n})}function Gg(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function Yu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return Ce(i)?(r=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(n=t.pop())):typeof i=="number"&&(n=t.pop()),r===null&&t.length===1&&t[0]instanceof T?t[0]:uo(n)(or(t,r))}var Xu=new T(Ue);function Zg(){return Xu}function Es(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return on;var n=t[0],r=t.slice(1);return t.length===1&&ye(n)?Es.apply(void 0,n):new T(function(i){var s=function(){return i.add(Es.apply(void 0,r).subscribe(i))};return ot(n).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Kg(t,e){return e?new T(function(n){var r=Object.keys(t),i=new Q;return i.add(e.schedule(Yg,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}):new T(function(n){for(var r=Object.keys(t),i=0;i<r.length&&!n.closed;i++){var s=r[i];t.hasOwnProperty(s)&&n.next([s,t[s]])}n.complete()})}function Yg(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,s=t.obj;if(!r.closed)if(n<e.length){var o=e[n];r.next([o,s[o]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:s}))}else r.complete()}function el(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function vt(t,e){return function(r){return r.lift(new Xg(t,e))}}var Xg=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new ey(e,this.predicate,this.thisArg))},t}(),ey=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.thisArg=i,s.count=0,s}return e.prototype._next=function(n){var r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(n)},e}(x);function ty(t,e,n){return[vt(e,n)(new T($n(t))),vt(el(e,n))(new T($n(t)))]}function tl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(ye(t[0]))t=t[0];else return t[0];return or(t,void 0).lift(new ny)}var ny=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new ry(e))},t}(),ry=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return e.prototype._next=function(n){this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{for(var i=0;i<r&&!this.hasFirst;i++){var s=n[i],o=it(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(r)},e}(Bt);function iy(t,e,n){return t===void 0&&(t=0),new T(function(r){e===void 0&&(e=t,t=0);var i=0,s=t;if(n)return n.schedule(sy,0,{index:i,count:e,start:t,subscriber:r});do{if(i++>=e){r.complete();break}if(r.next(s++),r.closed)break}while(!0)})}function sy(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;if(n>=r){i.complete();return}i.next(e),!i.closed&&(t.index=n+1,t.start=e+1,this.schedule(t))}function nl(t,e,n){t===void 0&&(t=0);var r=-1;return cn(e)?r=Number(e)<1&&1||Number(e):Ce(e)&&(n=e),Ce(n)||(n=me),new T(function(i){var s=cn(t)?t:+t-n.now();return n.schedule(oy,s,{index:0,period:r,subscriber:i})})}function oy(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(n===-1)return r.complete();t.index=e+1,this.schedule(t,n)}}function ay(t,e){return new T(function(n){var r;try{r=t()}catch(a){n.error(a);return}var i;try{i=e(r)}catch(a){n.error(a);return}var s=i?ot(i):on,o=s.subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}function rl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return typeof n=="function"&&t.pop(),or(t,void 0).lift(new il(n))}var il=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new cy(e,this.resultSelector))},t}(),cy=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.resultSelector=r,s.iterators=[],s.active=0,s.resultSelector=typeof r=="function"?r:void 0,s}return e.prototype._next=function(n){var r=this.iterators;ye(n)?r.push(new ly(n)):typeof n[mt]=="function"?r.push(new uy(n[mt]())):r.push(new dy(this.destination,this,n))},e.prototype._complete=function(){var n=this.iterators,r=n.length;if(this.unsubscribe(),r===0){this.destination.complete();return}this.active=r;for(var i=0;i<r;i++){var s=n[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var n=this.iterators,r=n.length,i=this.destination,s=0;s<r;s++){var o=n[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<r;s++){var o=n[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(x),uy=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),ly=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[mt]=function(){return this},t.prototype.next=function(e){var n=this.index++,r=this.array;return n<this.length?{value:r[n],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),dy=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.parent=r,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[mt]=function(){return this},e.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},e.prototype.subscribe=function(){return K(this.observable,new G(this))},e}(Z);const fy=Object.freeze(Object.defineProperty({__proto__:null,Observable:T,ConnectableObservable:Nu,GroupedObservable:vs,observable:mn,Subject:oe,BehaviorSubject:Ou,ReplaySubject:ao,AsyncSubject:_n,asap:xr,asapScheduler:Fu,async:me,asyncScheduler:Bu,queue:Du,queueScheduler:Lu,animationFrame:pg,animationFrameScheduler:$u,VirtualTimeScheduler:bg,VirtualAction:Wu,Scheduler:_s,Subscription:Q,Subscriber:x,Notification:rt,get NotificationKind(){return ws},pipe:ms,noop:Ue,identity:yt,isObservable:gg,ArgumentOutOfRangeError:an,EmptyError:ar,ObjectUnsubscribedError:ft,UnsubscriptionError:Dn,TimeoutError:Hu,bindCallback:Vu,bindNodeCallback:zu,combineLatest:Tg,concat:Wn,defer:lo,empty:vn,forkJoin:Wg,from:ot,fromEvent:Gu,fromEventPattern:Ku,generate:Ug,iif:Jg,interval:Qg,merge:Yu,never:Zg,of:ai,onErrorResumeNext:Es,pairs:Kg,partition:ty,race:tl,range:iy,throwError:oo,timer:nl,using:ay,zip:rl,scheduled:Ju,EMPTY:on,NEVER:Xu,config:Ae},Symbol.toStringTag,{value:"Module"})),ci=_t(fy);var ui={};function sl(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=sl(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function La(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=sl(t))&&(r&&(r+=" "),r+=e);return r}const hy=Object.freeze(Object.defineProperty({__proto__:null,clsx:La,default:La},Symbol.toStringTag,{value:"Module"})),li=_t(hy);var st,W,Gi,Da,un=0,ol=[],kr=[],q=V,Pa=q.__b,ja=q.__r,Fa=q.diffed,Ba=q.__c,$a=q.unmount,Wa=q.__;function $t(t,e){q.__h&&q.__h(W,t,un||e),un=0;var n=W.__H||(W.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:kr}),n.__[t]}function al(t){return un=1,cl(ll,t)}function cl(t,e,n){var r=$t(st++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):ll(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=W,!W.u)){var i=function(a,c,u){if(!r.__c.__H)return!0;var l=r.__c.__H.__.filter(function(f){return!!f.__c});if(l.every(function(f){return!f.__N}))return!s||s.call(this,a,c,u);var d=!1;return l.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(d=!0)}}),!(!d&&r.__c.props===a)&&(!s||s.call(this,a,c,u))};W.u=!0;var s=W.shouldComponentUpdate,o=W.componentWillUpdate;W.componentWillUpdate=function(a,c,u){if(this.__e){var l=s;s=void 0,i(a,c,u),s=l}o&&o.call(this,a,c,u)},W.shouldComponentUpdate=i}return r.__N||r.__}function py(t,e){var n=$t(st++,3);!q.__s&&ho(n.__H,e)&&(n.__=t,n.i=e,W.__H.__h.push(n))}function ul(t,e){var n=$t(st++,4);!q.__s&&ho(n.__H,e)&&(n.__=t,n.i=e,W.__h.push(n))}function by(t){return un=5,fo(function(){return{current:t}},[])}function gy(t,e,n){un=6,ul(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function fo(t,e){var n=$t(st++,7);return ho(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function yy(t,e){return un=8,fo(function(){return t},e)}function my(t){var e=W.context[t.__c],n=$t(st++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(W)),e.props.value):t.__}function vy(t,e){q.useDebugValue&&q.useDebugValue(e?e(t):t)}function _y(t){var e=$t(st++,10),n=al();return e.__=t,W.componentDidCatch||(W.componentDidCatch=function(r,i){e.__&&e.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function wy(){var t=$t(st++,11);if(!t.__){for(var e=W.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function Sy(){for(var t;t=ol.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ir),t.__H.__h.forEach(Cs),t.__H.__h=[]}catch(e){t.__H.__h=[],q.__e(e,t.__v)}}q.__b=function(t){W=null,Pa&&Pa(t)},q.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Wa&&Wa(t,e)},q.__r=function(t){ja&&ja(t),st=0;var e=(W=t.__c).__H;e&&(Gi===W?(e.__h=[],W.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=kr,n.__N=n.i=void 0})):(e.__h.forEach(Ir),e.__h.forEach(Cs),e.__h=[],st=0)),Gi=W},q.diffed=function(t){Fa&&Fa(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ol.push(e)!==1&&Da===q.requestAnimationFrame||((Da=q.requestAnimationFrame)||Ey)(Sy)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==kr&&(n.__=n.__V),n.i=void 0,n.__V=kr})),Gi=W=null},q.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Ir),n.__h=n.__h.filter(function(r){return!r.__||Cs(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],q.__e(r,n.__v)}}),Ba&&Ba(t,e)},q.unmount=function(t){$a&&$a(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ir(r)}catch(i){e=i}}),n.__H=void 0,e&&q.__e(e,n.__v))};var Ha=typeof requestAnimationFrame=="function";function Ey(t){var e,n=function(){clearTimeout(r),Ha&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Ha&&(e=requestAnimationFrame(n))}function Ir(t){var e=W,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),W=e}function Cs(t){var e=W;t.__c=t.__(),W=e}function ho(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function ll(t,e){return typeof e=="function"?e(t):e}const Cy=Object.freeze(Object.defineProperty({__proto__:null,useCallback:yy,useContext:my,useDebugValue:vy,useEffect:py,useErrorBoundary:_y,useId:wy,useImperativeHandle:gy,useLayoutEffect:ul,useMemo:fo,useReducer:cl,useRef:by,useState:al},Symbol.toStringTag,{value:"Module"})),cr=_t(Cy);var Ke={},di={};Object.defineProperty(di,"__esModule",{value:!0});di.CloseIcon=void 0;const Va=xe;function xy(t){return(0,Va.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Va.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}di.CloseIcon=xy;var po={};Object.defineProperty(po,"__esModule",{value:!0});po.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.QRCodeIcon=void 0;const Ve=xe;function ky(t){return(0,Ve.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ve.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Ve.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Ve.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Ve.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Ve.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Ve.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Ve.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Ve.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Ve.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}fi.QRCodeIcon=ky;var go={};Object.defineProperty(go,"__esModule",{value:!0});const Iy=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;go.default=Iy;var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.StatusDotIcon=void 0;const za=xe;function My(t){return(0,za.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,za.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}hi.StatusDotIcon=My;var pi={};function dl(t){this.mode=Se.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var r=[],i=this.data.charCodeAt(e);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}dl.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}};function Ye(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Ye.prototype={addData:function(t){var e=new dl(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Ye.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=U.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(r.beginFill(0,100),r.moveTo(c,o),r.lineTo(c+i,o),r.lineTo(c+i,o+i),r.lineTo(c,o+i),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=U.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(this.modules[r][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[r+s][i+o]=!0:this.modules[r+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=U.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=U.getBCHTypeInfo(n),i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[r][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=U.getMask(e,r,o-a);u&&(c=!c),this.modules[r][o-a]=c,i--,i==-1&&(s++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}};Ye.PAD0=236;Ye.PAD1=17;Ye.createData=function(t,e,n){for(var r=Qe.getRSBlocks(t,e),i=new fl,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),U.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<r.length;s++)a+=r[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Ye.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Ye.PAD1,8);return Ye.createBytes(i,r)};Ye.createBytes=function(t,e){for(var n=0,r=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;r=Math.max(r,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+n];n+=c;var d=U.getErrorCorrectPolynomial(u),f=new Zt(s[a],d.getLength()-1),h=f.mod(d);o[a]=new Array(d.getLength()-1);for(var l=0;l<o[a].length;l++){var g=l+h.getLength()-o[a].length;o[a][l]=g>=0?h.get(g):0}}for(var w=0,l=0;l<e.length;l++)w+=e[l].totalCount;for(var y=new Array(w),v=0,l=0;l<r;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(y[v++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(y[v++]=o[a][l]);return y};var Se={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},pt={L:1,M:0,Q:3,H:2},at={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},U={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;U.getBCHDigit(e)-U.getBCHDigit(U.G15)>=0;)e^=U.G15<<U.getBCHDigit(e)-U.getBCHDigit(U.G15);return(t<<10|e)^U.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;U.getBCHDigit(e)-U.getBCHDigit(U.G18)>=0;)e^=U.G18<<U.getBCHDigit(e)-U.getBCHDigit(U.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return U.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case at.PATTERN000:return(e+n)%2==0;case at.PATTERN001:return e%2==0;case at.PATTERN010:return n%3==0;case at.PATTERN011:return(e+n)%3==0;case at.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case at.PATTERN101:return e*n%2+e*n%3==0;case at.PATTERN110:return(e*n%2+e*n%3)%2==0;case at.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Zt([1],0),n=0;n<t;n++)e=e.multiply(new Zt([1,se.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Se.MODE_NUMBER:return 10;case Se.MODE_ALPHA_NUM:return 9;case Se.MODE_8BIT_BYTE:return 8;case Se.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Se.MODE_NUMBER:return 12;case Se.MODE_ALPHA_NUM:return 11;case Se.MODE_8BIT_BYTE:return 16;case Se.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Se.MODE_NUMBER:return 14;case Se.MODE_ALPHA_NUM:return 13;case Se.MODE_8BIT_BYTE:return 16;case Se.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(r+a,i+c)&&s++;s>5&&(n+=3+s-5)}for(var r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var u=0;t.isDark(r,i)&&u++,t.isDark(r+1,i)&&u++,t.isDark(r,i+1)&&u++,t.isDark(r+1,i+1)&&u++,(u==0||u==4)&&(n+=3)}for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var l=0,i=0;i<e;i++)for(var r=0;r<e;r++)t.isDark(r,i)&&l++;var d=Math.abs(100*l/e/e-50)/5;return n+=d*10,n}},se={glog:function(t){if(t<1)throw new Error("glog("+t+")");return se.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return se.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ue=0;ue<8;ue++)se.EXP_TABLE[ue]=1<<ue;for(var ue=8;ue<256;ue++)se.EXP_TABLE[ue]=se.EXP_TABLE[ue-4]^se.EXP_TABLE[ue-5]^se.EXP_TABLE[ue-6]^se.EXP_TABLE[ue-8];for(var ue=0;ue<255;ue++)se.LOG_TABLE[se.EXP_TABLE[ue]]=ue;function Zt(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}Zt.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=se.gexp(se.glog(this.get(n))+se.glog(t.get(r)));return new Zt(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=se.glog(this.get(0))-se.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=se.gexp(se.glog(t.get(r))+e);return new Zt(n,0).mod(t)}};function Qe(t,e){this.totalCount=t,this.dataCount=e}Qe.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Qe.getRSBlocks=function(t,e){var n=Qe.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=[],s=0;s<r;s++)for(var o=n[s*3+0],a=n[s*3+1],c=n[s*3+2],u=0;u<o;u++)i.push(new Qe(a,c));return i};Qe.getRsBlockTable=function(t,e){switch(e){case pt.L:return Qe.RS_BLOCK_TABLE[(t-1)*4+0];case pt.M:return Qe.RS_BLOCK_TABLE[(t-1)*4+1];case pt.Q:return Qe.RS_BLOCK_TABLE[(t-1)*4+2];case pt.H:return Qe.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function fl(){this.buffer=[],this.length=0}fl.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Zi=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function hl(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function n(c){switch(c){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new Error("Unknwon error correction level: "+c)}}function r(c,u){for(var l=i(c),d=1,f=0,h=0,g=Zi.length;h<=g;h++){var w=Zi[h];if(!w)throw new Error("Content too long: expected "+f+" but got "+l);switch(u){case"L":f=w[0];break;case"M":f=w[1];break;case"Q":f=w[2];break;case"H":f=w[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=f)break;d++}if(d>Zi.length)throw new Error("Content too long");return d}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=r(s,this.options.ecl),a=n(this.options.ecl);this.qrcode=new Ye(o,a),this.qrcode.addData(s),this.qrcode.make()}hl.prototype.svg=function(t){var e=this.options||{},n=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var r=typeof e.pretty<"u"?!!e.pretty:!0,i=r?"  ":"",s=r?`\r
`:"",o=e.width,a=e.height,c=n.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),d=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,h=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,g=typeof e.predefined<"u"?!!e.predefined:!1,w=g?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",y=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,v="",m="",b=0;b<c;b++)for(var E=0;E<c;E++){var _=n[E][b];if(_){var M=E*u+e.padding*u,D=b*l+e.padding*l;if(f){var te=M;M=D,D=te}if(d){var k=u+M,N=l+D;M=Number.isInteger(M)?Number(M):M.toFixed(2),D=Number.isInteger(D)?Number(D):D.toFixed(2),k=Number.isInteger(k)?Number(k):k.toFixed(2),N=Number.isInteger(N)?Number(N):N.toFixed(2),m+="M"+M+","+D+" V"+N+" H"+k+" V"+D+" H"+M+" Z "}else g?v+=i+'<use x="'+M.toString()+'" y="'+D.toString()+'" href="#qrmodule" />'+s:v+=i+'<rect x="'+M.toString()+'" y="'+D.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}d&&(v=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+m+'" />');let ae="";if(this.options.image!==void 0&&this.options.image.svg){const de=o*this.options.image.width/100,we=a*this.options.image.height/100,ke=o/2-de/2,et=a/2-we/2;ae+=`<svg x="${ke}" y="${et}" width="${de}" height="${we}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ae+=this.options.image.svg+s,ae+="</svg>"}var B="";switch(t.container){case"svg":h&&(B+='<?xml version="1.0" standalone="yes"?>'+s),B+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,B+=w+y+v,B+=ae,B+="</svg>";break;case"svg-viewbox":h&&(B+='<?xml version="1.0" standalone="yes"?>'+s),B+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,B+=w+y+v,B+=ae,B+="</svg>";break;case"g":B+='<g width="'+o+'" height="'+a+'">'+s,B+=w+y+v,B+=ae,B+="</g>";break;default:B+=(w+y+v+ae).replace(/^\s+/,"");break}return B};var Ry=hl,Ay=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});pi.QRCode=void 0;const Ty=xe,Ua=cr,Ny=Ay(Ry),Oy=t=>{const[e,n]=(0,Ua.useState)("");return(0,Ua.useEffect)(()=>{var r,i;const s=new Ny.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(r=t.width)!==null&&r!==void 0?r:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=j.Buffer.from(s.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${o}`)}),e?(0,Ty.h)("img",{src:e,alt:"QR Code"}):null};pi.QRCode=Oy;var bi={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Ly=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});bi.Spinner=void 0;const _r=xe,Dy=Ly(mo),Py=t=>{var e;const n=(e=t.size)!==null&&e!==void 0?e:64,r=t.color||"#000";return(0,_r.h)("div",{class:"-cbwsdk-spinner"},(0,_r.h)("style",null,Dy.default),(0,_r.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,_r.h)("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))};bi.Spinner=Py;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var wn=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.CoinbaseAppSteps=Ke.CoinbaseWalletSteps=Ke.ConnectItem=Ke.ConnectContent=void 0;const Ne=wn(li),I=xe,qa=cr,jy=S,Fy=hn,By=di,$y=wn(po),Wy=wn(bo),pl=fi,Hy=wn(go),Vy=wn(yo),zy=hi,Uy=pi,qy=bi,Jy=wn(vo),Ja={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Wy.default,steps:gl},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:$y.default,steps:yl}},Qy=t=>{switch(t){case"coinbase-app":return Hy.default;case"coinbase-wallet-app":default:return Vy.default}},xs=t=>t==="light"?"#FFFFFF":"#0A0B0D";function Gy(t){const{theme:e}=t,[n,r]=(0,qa.useState)("coinbase-wallet-app"),i=(0,qa.useCallback)(u=>{r(u)},[]),s=(0,jy.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Ja[n];if(!n)return null;const a=o.steps,c=n==="coinbase-app";return(0,I.h)("div",{"data-testid":"connect-content",class:(0,Ne.default)("-cbwsdk-connect-content",e)},(0,I.h)("style",null,Jy.default),(0,I.h)("div",{class:"-cbwsdk-connect-content-header"},(0,I.h)("h2",{class:(0,Ne.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,I.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,I.h)(By.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,I.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,I.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,I.h)("div",null,Object.entries(Ja).map(([u,l])=>(0,I.h)(bl,{key:u,title:l.title,description:l.description,icon:l.icon,selected:n===u,onClick:()=>i(u),theme:e}))),c&&(0,I.h)("div",{class:(0,Ne.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,I.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,I.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,I.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,I.h)(Uy.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:Qy(n),width:25,height:25}}),(0,I.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Fy.LIB_VERSION}),(0,I.h)("input",{type:"hidden",value:s})),(0,I.h)(a,{theme:e}),!t.isConnected&&(0,I.h)("div",{"data-testid":"connecting-spinner",class:(0,Ne.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,I.h)(qy.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,I.h)("p",null,"Connecting...")))))}Ke.ConnectContent=Gy;function bl({title:t,description:e,icon:n,selected:r,theme:i,onClick:s}){return(0,I.h)("div",{onClick:s,class:(0,Ne.default)("-cbwsdk-connect-item",i,{selected:r})},(0,I.h)("div",null,(0,I.h)("img",{src:n,alt:t})),(0,I.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,I.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,I.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Ke.ConnectItem=bl;function gl({theme:t}){return(0,I.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,I.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",t)},(0,I.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,I.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",t)},(0,I.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,I.h)("span",null,"Tap ",(0,I.h)("strong",null,"Scan")," "),(0,I.h)("span",{class:(0,Ne.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,I.h)(pl.QRCodeIcon,{fill:xs(t)})))))}Ke.CoinbaseWalletSteps=gl;function yl({theme:t}){return(0,I.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,I.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",t)},(0,I.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,I.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",t)},(0,I.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,I.h)("span",null,"Tap ",(0,I.h)("strong",null,"More")),(0,I.h)("span",{class:(0,Ne.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,I.h)(zy.StatusDotIcon,{fill:xs(t)})),(0,I.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,I.h)("strong",null,"Scan")),(0,I.h)("span",{class:(0,Ne.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,I.h)(pl.QRCodeIcon,{fill:xs(t)})))))}Ke.CoinbaseAppSteps=yl;var gi={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.ArrowLeftIcon=void 0;const Qa=xe;function Zy(t){return(0,Qa.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Qa.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}yi.ArrowLeftIcon=Zy;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.LaptopIcon=void 0;const Ki=xe;function Ky(t){return(0,Ki.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ki.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ki.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}mi.LaptopIcon=Ky;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.SafeIcon=void 0;const Ga=xe;function Yy(t){return(0,Ga.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ga.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}vi.SafeIcon=Yy;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var ml=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gi,"__esModule",{value:!0});gi.TryExtensionContent=void 0;const St=ml(li),ee=xe,Yi=cr,Xy=yi,em=mi,tm=vi,nm=ml(_o);function rm({theme:t}){const[e,n]=(0,Yi.useState)(!1),r=(0,Yi.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Yi.useCallback)(()=>{e?window.location.reload():(r(),n(!0))},[r,e]);return(0,ee.h)("div",{class:(0,St.default)("-cbwsdk-try-extension",t)},(0,ee.h)("style",null,nm.default),(0,ee.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ee.h)("h3",{class:(0,St.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,ee.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,ee.h)("button",{class:(0,St.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,ee.h)("div",null,!e&&(0,ee.h)(Xy.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,ee.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ee.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,ee.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ee.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ee.h)("span",{class:(0,St.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ee.h)(em.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ee.h)("div",{class:(0,St.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,ee.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ee.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ee.h)("span",{class:(0,St.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ee.h)(tm.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ee.h)("div",{class:(0,St.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}gi.TryExtensionContent=rm;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var vl=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});ui.ConnectDialog=void 0;const Xi=vl(li),Et=xe,es=cr,im=Ke,sm=gi,om=vl(wo),am=t=>{const{isOpen:e,darkMode:n}=t,[r,i]=(0,es.useState)(!e),[s,o]=(0,es.useState)(!e);(0,es.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=n?"dark":"light";return(0,Et.h)("div",{class:(0,Xi.default)("-cbwsdk-connect-dialog-container",r&&"-cbwsdk-connect-dialog-container-hidden")},(0,Et.h)("style",null,om.default),(0,Et.h)("div",{class:(0,Xi.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Et.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Et.h)("div",{class:(0,Xi.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Et.h)(im.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Et.h)(sm.TryExtensionContent,{theme:a}))))};ui.ConnectDialog=am;Object.defineProperty(si,"__esModule",{value:!0});si.LinkFlow=void 0;const ts=xe,Za=ci,cm=ui;class um{constructor(e){this.extensionUI$=new Za.BehaviorSubject({}),this.subscriptions=new Za.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(n=>{this.isConnected!==n&&(this.isConnected=n,this.render())})),this.subscriptions.add(this.chainId$.subscribe(n=>{this.chainId!==n&&(this.chainId=n,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,ts.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,ts.render)((0,ts.h)(cm.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}si.LinkFlow=um;var _l={},So={};Object.defineProperty(So,"__esModule",{value:!0});So.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=C&&C.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=e(li),r=xe,i=cr,s=e(So),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(d){switch(d){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const h=this.nextItemKey++;return this.items.set(h,f),this.render(),()=>{this.items.delete(h),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,r.render)((0,r.h)("div",null,(0,r.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,h])=>(0,r.h)(t.SnackbarInstance,Object.assign({},h,{key:f}))))),this.root)}}t.Snackbar=c;const u=d=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,s.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},d.children));t.SnackbarContainer=u;const l=({autoExpand:d,message:f,menuItems:h,appSrc:g})=>{const[w,y]=(0,i.useState)(!0),[v,m]=(0,i.useState)(d!=null?d:!1);(0,i.useEffect)(()=>{const E=[window.setTimeout(()=>{y(!1)},1),window.setTimeout(()=>{m(!0)},1e4)];return()=>{E.forEach(window.clearTimeout)}});const b=()=>{m(!v)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",w&&"-cbwsdk-snackbar-instance-hidden",v&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:b},(0,r.h)("img",{src:a(g),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,r.h)("div",{class:"-gear-container"},!v&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),h&&h.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},h.map((E,_)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",E.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:E.onClick,key:_},(0,r.h)("svg",{width:E.svgWidth,height:E.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":E.defaultFillRule,"clip-rule":E.defaultClipRule,d:E.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",E.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},E.info)))))};t.SnackbarInstance=l})(_l);var _i={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var lm=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});_i.injectCssReset=void 0;const dm=lm(Eo);function fm(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(dm.default)),document.documentElement.appendChild(t)}_i.injectCssReset=fm;Object.defineProperty(ii,"__esModule",{value:!0});ii.WalletSDKUI=void 0;const hm=si,pm=_l,bm=_i;class gm{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new pm.Snackbar({darkMode:e.darkMode}),this.linkFlow=new hm.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.linkFlow.attach(n),this.snackbar.attach(n),this.attached=!0,(0,bm.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}ii.WalletSDKUI=gm;var wi={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});var qt;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(qt||(qt={}));function wl(t,e,n){if(!n||typeof n.value!==qt.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:qt.boolTrue,get:function(){var r=n.value.bind(this);return Object.defineProperty(this,e,{value:r,configurable:qt.boolTrue,writable:qt.boolTrue}),r}}}Si.bind=wl;Si.default=wl;function Sl(t){return function(n){return n.lift(new ym(t))}}var ym=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new mm(e,this.durationSelector))},t}(),mm=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){if(this.value=n,this.hasValue=!0,!this.throttled){var r=void 0;try{var i=this.durationSelector;r=i(n)}catch(o){return this.destination.error(o)}var s=K(r,new G(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var n=this,r=n.value,i=n.hasValue,s=n.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Z);function vm(t,e){return e===void 0&&(e=me),Sl(function(){return nl(t,e)})}function _m(t){return function(n){return n.lift(new wm(t))}}var wm=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,n){return n.subscribe(new Sm(e,this.closingNotifier))},t}(),Sm=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.buffer=[],i.add(K(r,new G(i))),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype.notifyNext=function(){var n=this.buffer;this.buffer=[],this.destination.next(n)},e}(Z);function Em(t,e){return e===void 0&&(e=null),function(r){return r.lift(new Cm(t,e))}}var Cm=function(){function t(e,n){this.bufferSize=e,this.startBufferEvery=n,!n||e===n?this.subscriberClass=xm:this.subscriberClass=km}return t.prototype.call=function(e,n){return n.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),xm=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.bufferSize=r,i.buffer=[],i}return e.prototype._next=function(n){var r=this.buffer;r.push(n),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},e.prototype._complete=function(){var n=this.buffer;n.length>0&&this.destination.next(n),t.prototype._complete.call(this)},e}(x),km=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.bufferSize=r,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(n){var r=this,i=r.bufferSize,s=r.startBufferEvery,o=r.buffers,a=r.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(n),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var n=this,r=n.buffers,i=n.destination;r.length>0;){var s=r.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(x);function Im(t){var e=arguments.length,n=me;Ce(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Mm(t,r,i,n))}}var Mm=function(){function t(e,n,r,i){this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new Am(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Rm=function(){function t(){this.buffer=[]}return t}(),Am=function(t){p.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;a.bufferTimeSpan=r,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:r};a.add(c.closeAction=o.schedule(Ka,r,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(El,r,l)),a.add(o.schedule(Tm,i,d))}return a}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,s,o=0;o<i;o++){var a=r[o],c=a.buffer;c.push(n),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(n){this.contexts.length=0,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this,r=n.contexts,i=n.destination;r.length>0;){var s=r.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(n){this.closeContext(n);var r=n.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){n=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:n,bufferTimeSpan:i};this.add(n.closeAction=this.scheduler.schedule(Ka,i,s))}},e.prototype.openContext=function(){var n=new Rm;return this.contexts.push(n),n},e.prototype.closeContext=function(n){this.destination.next(n.buffer);var r=this.contexts,i=r?r.indexOf(n):-1;i>=0&&r.splice(r.indexOf(n),1)},e}(x);function Ka(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Tm(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,s=r.openContext(),o=this;r.closed||(r.add(s.closeAction=i.schedule(El,n,{subscriber:r,context:s})),o.schedule(t,e))}function El(t){var e=t.subscriber,n=t.context;e.closeContext(n)}function Nm(t,e){return function(r){return r.lift(new Om(t,e))}}var Om=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new Lm(e,this.openings,this.closingSelector))},t}(),Lm=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.closingSelector=i,s.contexts=[],s.add(it(s,r)),s}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,s=0;s<i;s++)r[s].buffer.push(n)},e.prototype._error=function(n){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this.contexts;n.length>0;){var r=n.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(n,r){n?this.closeBuffer(n):this.openBuffer(r)},e.prototype.notifyComplete=function(n){this.closeBuffer(n.context)},e.prototype.openBuffer=function(n){try{var r=this.closingSelector,i=r.call(this,n);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(n){var r=this.contexts;if(r&&n){var i=n.buffer,s=n.subscription;this.destination.next(i),r.splice(r.indexOf(n),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(n){var r=this.contexts,i=[],s=new Q,o={buffer:i,subscription:s};r.push(o);var a=it(this,n,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Bt);function Dm(t){return function(e){return e.lift(new Pm(t))}}var Pm=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new jm(e,this.closingSelector))},t}(),jm=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype._complete=function(){var n=this.buffer;n&&this.destination.next(n),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var n=this.closingSubscription;n&&(this.remove(n),n.unsubscribe());var r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}n=new Q,this.closingSubscription=n,this.add(n),this.subscribing=!0,n.add(K(i,new G(this))),this.subscribing=!1},e}(Z);function Fm(t){return function(n){var r=new Bm(t),i=n.lift(r);return r.caught=i}}var Bm=function(){function t(e){this.selector=e}return t.prototype.call=function(e,n){return n.subscribe(new $m(e,this.selector,this.caught))},t}(),$m=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.selector=r,s.caught=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new G(this);this.add(i);var s=K(r,i);s!==i&&this.add(s)}},e}(Z);function Wm(t){return function(e){return e.lift(new co(t))}}function Hm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&ye(t[0])&&(t=t[0].slice()),function(r){return r.lift.call(ot([r].concat(t)),new co(n))}}function Vm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Wn.apply(void 0,[n].concat(t)))}}function Cl(t,e){return Ot(t,e,1)}function zm(t,e){return Cl(function(){return t},e)}function Um(t){return function(e){return e.lift(new qm(t,e))}}var qm=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new Jm(e,this.predicate,this.source))},t}(),Jm=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(n){this.predicate?this._tryPredicate(n):this.count++},e.prototype._tryPredicate=function(n){var r;try{r=this.predicate(n,this.index++,this.source)}catch(i){this.destination.error(i);return}r&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(x);function Qm(t){return function(e){return e.lift(new Gm(t))}}var Gm=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Zm(e,this.durationSelector))},t}(),Zm=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){try{var r=this.durationSelector.call(this,n);r&&this._tryNext(n,r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(n,r){var i=this.durationSubscription;this.value=n,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=K(r,new G(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var n=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,n)}},e}(Z);function Km(t,e){return e===void 0&&(e=me),function(n){return n.lift(new Ym(t,e))}}var Ym=function(){function t(e,n){this.dueTime=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new Xm(e,this.dueTime,this.scheduler))},t}(),Xm=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.dueTime=r,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ev,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},e.prototype.clearDebounce=function(){var n=this.debouncedSubscription;n!==null&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},e}(x);function ev(t){t.debouncedNext()}function ur(t){return t===void 0&&(t=null),function(e){return e.lift(new tv(t))}}var tv=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,n){return n.subscribe(new nv(e,this.defaultValue))},t}(),nv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.defaultValue=r,i.isEmpty=!0,i}return e.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(x);function xl(t){return t instanceof Date&&!isNaN(+t)}function rv(t,e){e===void 0&&(e=me);var n=xl(t),r=n?+t-e.now():Math.abs(t);return function(i){return i.lift(new iv(r,e))}}var iv=function(){function t(e,n){this.delay=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new sv(e,this.delay,this.scheduler))},t}(),sv=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.delay=r,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(n){for(var r=n.source,i=r.queue,s=n.scheduler,o=n.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(n,a)}else this.unsubscribe(),r.active=!1},e.prototype._schedule=function(n){this.active=!0;var r=this.destination;r.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler,i=new ov(r.now()+this.delay,n);this.queue.push(i),this.active===!1&&this._schedule(r)}},e.prototype._next=function(n){this.scheduleNotification(rt.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(rt.createComplete()),this.unsubscribe()},e}(x),ov=function(){function t(e,n){this.time=e,this.notification=n}return t}();function av(t,e){return e?function(n){return new uv(n,e).lift(new Ya(t))}:function(n){return n.lift(new Ya(t))}}var Ya=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new cv(e,this.delayDurationSelector))},t}(),cv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(n,r,i,s,o){this.destination.next(n),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(n,r){this._error(n)},e.prototype.notifyComplete=function(n){var r=this.removeSubscription(n);r&&this.destination.next(r),this.tryComplete()},e.prototype._next=function(n){var r=this.index++;try{var i=this.delayDurationSelector(n,r);i&&this.tryDelay(i,n)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(n){n.unsubscribe();var r=this.delayNotifierSubscriptions.indexOf(n);return r!==-1&&this.delayNotifierSubscriptions.splice(r,1),n.outerValue},e.prototype.tryDelay=function(n,r){var i=it(this,n,r);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Bt),uv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subscriptionDelay=r,i}return e.prototype._subscribe=function(n){this.subscriptionDelay.subscribe(new lv(n,this.source))},e}(T),lv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.parent=n,i.source=r,i.sourceSubscribed=!1,i}return e.prototype._next=function(n){this.subscribeToSource()},e.prototype._error=function(n){this.unsubscribe(),this.parent.error(n)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(x);function dv(){return function(e){return e.lift(new fv)}}var fv=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new hv(e))},t}(),hv=function(t){p.exports.__extends(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){n.observe(this.destination)},e}(x);function pv(t,e){return function(n){return n.lift(new bv(t,e))}}var bv=function(){function t(e,n){this.keySelector=e,this.flushes=n}return t.prototype.call=function(e,n){return n.subscribe(new gv(e,this.keySelector,this.flushes))},t}(),gv=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.keySelector=r,s.values=new Set,i&&s.add(K(i,new G(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(n){this._error(n)},e.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},e.prototype._useKeySelector=function(n){var r,i=this.destination;try{r=this.keySelector(n)}catch(s){i.error(s);return}this._finalizeNext(r,n)},e.prototype._finalizeNext=function(n,r){var i=this.values;i.has(n)||(i.add(n),this.destination.next(r))},e}(Z);function kl(t,e){return function(n){return n.lift(new yv(t,e))}}var yv=function(){function t(e,n){this.compare=e,this.keySelector=n}return t.prototype.call=function(e,n){return n.subscribe(new mv(e,this.compare,this.keySelector))},t}(),mv=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.keySelector=i,s.hasKey=!1,typeof r=="function"&&(s.compare=r),s}return e.prototype.compare=function(n,r){return n===r},e.prototype._next=function(n){var r;try{var i=this.keySelector;r=i?i(n):n}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))},e}(x);function vv(t,e){return kl(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}function Ei(t){return t===void 0&&(t=Sv),function(e){return e.lift(new _v(t))}}var _v=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,n){return n.subscribe(new wv(e,this.errorFactory))},t}(),wv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.errorFactory=r,i.hasValue=!1,i}return e.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)},e}(x);function Sv(){return new ar}function Co(t){return function(e){return t===0?vn():e.lift(new Ev(t))}}var Ev=function(){function t(e){if(this.total=e,this.total<0)throw new an}return t.prototype.call=function(e,n){return n.subscribe(new Cv(e,this.total))},t}(),Cv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){var r=this.total,i=++this.count;i<=r&&(this.destination.next(n),i===r&&(this.destination.complete(),this.unsubscribe()))},e}(x);function xv(t,e){if(t<0)throw new an;var n=arguments.length>=2;return function(r){return r.pipe(vt(function(i,s){return s===t}),Co(1),n?ur(e):Ei(function(){return new an}))}}function kv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return Wn(n,ai.apply(void 0,t))}}function Iv(t,e){return function(n){return n.lift(new Mv(t,e,n))}}var Mv=function(){function t(e,n,r){this.predicate=e,this.thisArg=n,this.source=r}return t.prototype.call=function(e,n){return n.subscribe(new Rv(e,this.predicate,this.thisArg,this.source))},t}(),Rv=function(t){p.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.predicate=r,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(n){this.destination.next(n),this.destination.complete()},e.prototype._next=function(n){var r=!1;try{r=this.predicate.call(this.thisArg,n,this.index++,this.source)}catch(i){this.destination.error(i);return}r||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(x);function Av(){return function(t){return t.lift(new Tv)}}var Tv=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new Nv(e))},t}(),Nv=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return e.prototype._next=function(n){this.hasSubscription||(this.hasSubscription=!0,this.add(K(n,new G(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Z);function Il(t,e){return e?function(n){return n.pipe(Il(function(r,i){return ot(t(r,i)).pipe(De(function(s,o){return e(r,s,i,o)}))}))}:function(n){return n.lift(new Ov(t))}}var Ov=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new Lv(e,this.project))},t}(),Lv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(n){this.hasSubscription||this.tryNext(n)},e.prototype.tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new G(this),i=this.destination;i.add(r);var s=K(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Z);function Dv(t,e,n){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new Pv(t,e,n))}}var Pv=function(){function t(e,n,r){this.project=e,this.concurrent=n,this.scheduler=r}return t.prototype.call=function(e,n){return n.subscribe(new jv(e,this.project,this.concurrent,this.scheduler))},t}(),jv=function(t){p.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.project=r,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(n){var r=n.subscriber,i=n.result,s=n.value,o=n.index;r.subscribeToProjection(i,s,o)},e.prototype._next=function(n){var r=this.destination;if(r.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){r.next(n);try{var s=this.project,o=s(n,i);if(!this.scheduler)this.subscribeToProjection(o,n,i);else{var a={subscriber:this,result:o,value:n,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){r.error(u)}}else this.buffer.push(n)},e.prototype.subscribeToProjection=function(n,r,i){this.active++;var s=this.destination;s.add(K(n,new G(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this._next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n&&n.length>0&&this._next(n.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Z);function Fv(t){return function(e){return e.lift(new Bv(t))}}var Bv=function(){function t(e){this.callback=e}return t.prototype.call=function(e,n){return n.subscribe(new $v(e,this.callback))},t}(),$v=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.add(new Q(r)),i}return e}(x);function Wv(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(n){return n.lift(new Ml(t,n,!1,e))}}var Ml=function(){function t(e,n,r,i){this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(e,n){return n.subscribe(new Hv(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),Hv=function(t){p.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.predicate=r,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete(),this.unsubscribe()},e.prototype._next=function(n){var r=this,i=r.predicate,s=r.thisArg,o=this.index++;try{var a=i.call(s||this,n,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:n)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(x);function Vv(t,e){return function(n){return n.lift(new Ml(t,n,!0,e))}}function zv(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?vt(function(i,s){return t(i,s,r)}):yt,Co(1),n?ur(e):Ei(function(){return new ar}))}}function Uv(){return function(e){return e.lift(new qv)}}var qv=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new Jv(e))},t}(),Jv=function(t){p.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(n){},e}(x);function Qv(){return function(t){return t.lift(new Gv)}}var Gv=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new Zv(e))},t}(),Zv=function(t){p.exports.__extends(e,t);function e(n){return t.call(this,n)||this}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype._next=function(n){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(x);function Dr(t){return function(n){return t===0?vn():n.lift(new Kv(t))}}var Kv=function(){function t(e){if(this.total=e,this.total<0)throw new an}return t.prototype.call=function(e,n){return n.subscribe(new Yv(e,this.total))},t}(),Yv=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.ring=new Array,i.count=0,i}return e.prototype._next=function(n){var r=this.ring,i=this.total,s=this.count++;if(r.length<i)r.push(n);else{var o=s%i;r[o]=n}},e.prototype._complete=function(){var n=this.destination,r=this.count;if(r>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=r++%i;n.next(s[a])}n.complete()},e}(x);function Xv(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?vt(function(i,s){return t(i,s,r)}):yt,Dr(1),n?ur(e):Ei(function(){return new ar}))}}function e_(t){return function(e){return e.lift(new t_(t))}}var t_=function(){function t(e){this.value=e}return t.prototype.call=function(e,n){return n.subscribe(new n_(e,this.value))},t}(),n_=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype._next=function(n){this.destination.next(this.value)},e}(x);function r_(){return function(e){return e.lift(new i_)}}var i_=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new s_(e))},t}(),s_=function(t){p.exports.__extends(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){this.destination.next(rt.createNext(n))},e.prototype._error=function(n){var r=this.destination;r.next(rt.createError(n)),r.complete()},e.prototype._complete=function(){var n=this.destination;n.next(rt.createComplete()),n.complete()},e}(x);function Pr(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new o_(t,e,n))}}var o_=function(){function t(e,n,r){r===void 0&&(r=!1),this.accumulator=e,this.seed=n,this.hasSeed=r}return t.prototype.call=function(e,n){return n.subscribe(new a_(e,this.accumulator,this.seed,this.hasSeed))},t}(),a_=function(t){p.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.accumulator=r,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(!this.hasSeed)this.seed=n,this.destination.next(n);else return this._tryNext(n)},e.prototype._tryNext=function(n){var r=this.index++,i;try{i=this.accumulator(this.seed,n,r)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(x);function Ci(t,e){return arguments.length>=2?function(r){return ms(Pr(t,e),Dr(1),ur(e))(r)}:function(r){return ms(Pr(function(i,s,o){return t(i,s,o+1)}),Dr(1))(r)}}function c_(t){var e=typeof t=="function"?function(n,r){return t(n,r)>0?n:r}:function(n,r){return n>r?n:r};return Ci(e)}function u_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Yu.apply(void 0,[n].concat(t)))}}function l_(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?Ot(function(){return t},e,n):(typeof e=="number"&&(n=e),Ot(function(){return t},n))}function d_(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new f_(t,e,n))}}var f_=function(){function t(e,n,r){this.accumulator=e,this.seed=n,this.concurrent=r}return t.prototype.call=function(e,n){return n.subscribe(new h_(e,this.accumulator,this.seed,this.concurrent))},t}(),h_=function(t){p.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.accumulator=r,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(n){if(this.active<this.concurrent){var r=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,n,r)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(n)},e.prototype._innerSub=function(n){var r=new G(this),i=this.destination;i.add(r);var s=K(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(n){var r=this.destination;this.acc=n,this.hasValue=!0,r.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Z);function p_(t){var e=typeof t=="function"?function(n,r){return t(n,r)<0?n:r}:function(n,r){return n<r?n:r};return Ci(e)}function Lt(t,e){return function(r){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return r.lift(new b_(i,e));var s=Object.create(r,qb);return s.source=r,s.subjectFactory=i,s}}var b_=function(){function t(e,n){this.subjectFactory=e,this.selector=n}return t.prototype.call=function(e,n){var r=this.selector,i=this.subjectFactory(),s=r(i).subscribe(e);return s.add(n.subscribe(i)),s},t}();function g_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&ye(t[0])&&(t=t[0]),function(n){return n.lift(new y_(t))}}var y_=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,n){return n.subscribe(new m_(e,this.nextSources))},t}(),m_=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.nextSources=r,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(n){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var n=this.nextSources.shift();if(n){var r=new G(this),i=this.destination;i.add(r);var s=K(n,r);s!==r&&i.add(s)}else this.destination.complete()},e}(Z);function v_(){return function(t){return t.lift(new __)}}var __=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new w_(e))},t}(),w_=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.hasPrev=!1,r}return e.prototype._next=function(n){var r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)},e}(x);function S_(t,e){return function(n){return[vt(t,e)(n),vt(el(t,e))(n)]}}function E_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(n===0)throw new Error("list of properties cannot be empty.");return function(r){return De(C_(t,n))(r)}}function C_(t,e){var n=function(r){for(var i=r,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return n}function x_(t){return t?Lt(function(){return new oe},t):Lt(new oe)}function k_(t){return function(e){return Lt(new Ou(t))(e)}}function I_(){return function(t){return Lt(new _n)(t)}}function M_(t,e,n,r){n&&typeof n!="function"&&(r=n);var i=typeof n=="function"?n:void 0,s=new ao(t,e,r);return function(o){return Lt(function(){return s},i)(o)}}function R_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return t.length===1&&ye(t[0])&&(t=t[0]),r.lift.call(tl.apply(void 0,[r].concat(t)))}}function A_(t){return t===void 0&&(t=-1),function(e){return t===0?vn():t<0?e.lift(new Xa(-1,e)):e.lift(new Xa(t-1,e))}}var Xa=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new T_(e,this.count,this.source))},t}(),T_=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.count=r,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(x);function N_(t){return function(e){return e.lift(new O_(t))}}var O_=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new L_(e,this.notifier,n))},t}(),L_=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.notifier=r,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var n=this,r=n.notifications,i=n.retriesSubscription;r&&(r.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var n=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=n,this},e.prototype.subscribeToRetries=function(){this.notifications=new oe;var n;try{var r=this.notifier;n=r(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=n,this.retriesSubscription=K(n,new G(this))},e}(Z);function D_(t){return t===void 0&&(t=-1),function(e){return e.lift(new P_(t,e))}}var P_=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new j_(e,this.count,this.source))},t}(),j_=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.count=r,s.source=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=this,i=r.source,s=r.count;if(s===0)return t.prototype.error.call(this,n);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(x);function F_(t){return function(e){return e.lift(new B_(t,e))}}var B_=function(){function t(e,n){this.notifier=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new $_(e,this.notifier,this.source))},t}(),$_=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.notifier=r,s.source=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{r=new oe;try{var o=this.notifier;i=o(r)}catch(a){return t.prototype.error.call(this,a)}s=K(i,new G(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=s,r.next(n)}},e.prototype._unsubscribe=function(){var n=this,r=n.errors,i=n.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},e}(Z);function W_(t){return function(e){return e.lift(new H_(t))}}var H_=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new V_(e),i=n.subscribe(r);return i.add(K(this.notifier,new G(r))),i},t}(),V_=function(t){p.exports.__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hasValue=!1,n}return e.prototype._next=function(n){this.value=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Z);function z_(t,e){return e===void 0&&(e=me),function(n){return n.lift(new U_(t,e))}}var U_=function(){function t(e,n){this.period=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new q_(e,this.period,this.scheduler))},t}(),q_=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.period=r,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(J_,r,{subscriber:s,period:r})),s}return e.prototype._next=function(n){this.lastValue=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(x);function J_(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function Q_(t,e){return function(n){return n.lift(new G_(t,e))}}var G_=function(){function t(e,n){this.compareTo=e,this.comparator=n}return t.prototype.call=function(e,n){return n.subscribe(new Z_(e,this.compareTo,this.comparator))},t}(),Z_=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.compareTo=r,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(r.subscribe(new K_(n,s))),s}return e.prototype._next=function(n){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(n),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var n=this,r=n._a,i=n._b,s=n.comparator;r.length>0&&i.length>0;){var o=r.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype.nextB=function(n){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(n),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(x),K_=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.parent=r,i}return e.prototype._next=function(n){this.parent.nextB(n)},e.prototype._error=function(n){this.parent.error(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(x);function Y_(){return new oe}function X_(){return function(t){return io()(Lt(Y_)(t))}}function e1(t,e,n){var r;return t&&typeof t=="object"?r=t:r={bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(i){return i.lift(t1(r))}}function t1(t){var e=t.bufferSize,n=e===void 0?Number.POSITIVE_INFINITY:e,r=t.windowTime,i=r===void 0?Number.POSITIVE_INFINITY:r,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,d=!1;return function(h){c++;var g;!a||l?(l=!1,a=new ao(n,i,o),g=a.subscribe(this),u=h.subscribe({next:function(w){a.next(w)},error:function(w){l=!0,a.error(w)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):g=a.subscribe(this),this.add(function(){c--,g.unsubscribe(),g=void 0,u&&!d&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function n1(t){return function(e){return e.lift(new r1(t,e))}}var r1=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new i1(e,this.predicate,this.source))},t}(),i1=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(n){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=n)},e.prototype._next=function(n){var r=this.index++;this.predicate?this.tryNext(n,r):this.applySingleValue(n)},e.prototype.tryNext=function(n,r){try{this.predicate(n,r,this.source)&&this.applySingleValue(n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var n=this.destination;this.index>0?(n.next(this.seenValue?this.singleValue:void 0),n.complete()):n.error(new ar)},e}(x);function s1(t){return function(e){return e.lift(new o1(t))}}var o1=function(){function t(e){this.total=e}return t.prototype.call=function(e,n){return n.subscribe(new a1(e,this.total))},t}(),a1=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){++this.count>this.total&&this.destination.next(n)},e}(x);function c1(t){return function(e){return e.lift(new u1(t))}}var u1=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new an}return t.prototype.call=function(e,n){return this._skipCount===0?n.subscribe(new x(e)):n.subscribe(new l1(e,this._skipCount))},t}(),l1=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return e.prototype._next=function(n){var r=this._skipCount,i=this._count++;if(i<r)this._ring[i]=n;else{var s=i%r,o=this._ring,a=o[s];o[s]=n,this.destination.next(a)}},e}(x);function d1(t){return function(e){return e.lift(new f1(t))}}var f1=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new h1(e,this.notifier))},t}(),h1=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;i.hasValue=!1;var s=new G(i);i.add(s),i.innerSubscription=s;var o=K(r,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(n){this.hasValue&&t.prototype._next.call(this,n)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Z);function p1(t){return function(e){return e.lift(new b1(t))}}var b1=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,n){return n.subscribe(new g1(e,this.predicate))},t}(),g1=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return e.prototype._next=function(n){var r=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||r.next(n)},e.prototype.tryCallPredicate=function(n){try{var r=this.predicate(n,this.index++);this.skipping=Boolean(r)}catch(i){this.destination.error(i)}},e}(x);function y1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Ce(n)?(t.pop(),function(r){return Wn(t,r,n)}):function(r){return Wn(t,r)}}var m1=function(t){p.exports.__extends(e,t);function e(n,r,i){r===void 0&&(r=0),i===void 0&&(i=xr);var s=t.call(this)||this;return s.source=n,s.delayTime=r,s.scheduler=i,(!cn(r)||r<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=xr),s}return e.create=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=xr),new e(n,r,i)},e.dispatch=function(n){var r=n.source,i=n.subscriber;return this.add(r.subscribe(i))},e.prototype._subscribe=function(n){var r=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,r,{source:i,subscriber:n})},e}(T);function v1(t,e){return e===void 0&&(e=0),function(r){return r.lift(new _1(t,e))}}var _1=function(){function t(e,n){this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return new m1(n,this.delay,this.scheduler).subscribe(e)},t}();function Hn(t,e){return typeof e=="function"?function(n){return n.pipe(Hn(function(r,i){return ot(t(r,i)).pipe(De(function(s,o){return e(r,s,i,o)}))}))}:function(n){return n.lift(new w1(t))}}var w1=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new S1(e,this.project))},t}(),S1=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.index=0,i}return e.prototype._next=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this._innerSub(r)},e.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new G(this),s=this.destination;s.add(i),this.innerSubscription=K(n,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var n=this.innerSubscription;(!n||n.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(n){this.destination.next(n)},e}(Z);function E1(){return Hn(yt)}function C1(t,e){return e?Hn(function(){return t},e):Hn(function(){return t})}function x1(t){return function(e){return e.lift(new k1(t))}}var k1=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new I1(e),i=K(this.notifier,new G(r));return i&&!r.seenValue?(r.add(i),n.subscribe(r)):r},t}(),I1=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.seenValue=!1,r}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Z);function M1(t,e){return e===void 0&&(e=!1),function(n){return n.lift(new R1(t,e))}}var R1=function(){function t(e,n){this.predicate=e,this.inclusive=n}return t.prototype.call=function(e,n){return n.subscribe(new A1(e,this.predicate,this.inclusive))},t}(),A1=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.inclusive=i,s.index=0,s}return e.prototype._next=function(n){var r=this.destination,i;try{i=this.predicate(n,this.index++)}catch(s){r.error(s);return}this.nextOrComplete(n,i)},e.prototype.nextOrComplete=function(n,r){var i=this.destination;Boolean(r)?i.next(n):(this.inclusive&&i.next(n),i.complete())},e}(x);function T1(t,e,n){return function(i){return i.lift(new N1(t,e,n))}}var N1=function(){function t(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}return t.prototype.call=function(e,n){return n.subscribe(new O1(e,this.nextOrObserver,this.error,this.complete))},t}(),O1=function(t){p.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o._tapNext=Ue,o._tapError=Ue,o._tapComplete=Ue,o._tapError=i||Ue,o._tapComplete=s||Ue,sn(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||Ue,o._tapError=r.error||Ue,o._tapComplete=r.complete||Ue),o}return e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},e}(x),Rl={leading:!0,trailing:!1};function L1(t,e){return e===void 0&&(e=Rl),function(n){return n.lift(new D1(t,!!e.leading,!!e.trailing))}}var D1=function(){function t(e,n,r){this.durationSelector=e,this.leading=n,this.trailing=r}return t.prototype.call=function(e,n){return n.subscribe(new P1(e,this.durationSelector,this.leading,this.trailing))},t}(),P1=function(t){p.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.destination=n,o.durationSelector=r,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},e.prototype.send=function(){var n=this,r=n._hasValue,i=n._sendValue;r&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(n){var r=this.tryDurationSelector(n);r&&this.add(this._throttled=K(r,new G(this)))},e.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},e.prototype.throttlingDone=function(){var n=this,r=n._throttled,i=n._trailing;r&&r.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Z);function j1(t,e,n){return e===void 0&&(e=me),n===void 0&&(n=Rl),function(r){return r.lift(new F1(t,e,n.leading,n.trailing))}}var F1=function(){function t(e,n,r,i){this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i}return t.prototype.call=function(e,n){return n.subscribe(new B1(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),B1=function(t){p.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.duration=r,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule($1,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},e}(x);function $1(t){var e=t.subscriber;e.clearThrottle()}function W1(t){return t===void 0&&(t=me),function(e){return lo(function(){return e.pipe(Pr(function(n,r){var i=n.current;return{value:r,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),De(function(n){var r=n.current,i=n.last,s=n.value;return new H1(s,r-i)}))})}}var H1=function(){function t(e,n){this.value=e,this.interval=n}return t}();function Al(t,e,n){return n===void 0&&(n=me),function(r){var i=xl(t),s=i?+t-n.now():Math.abs(t);return r.lift(new V1(s,i,e,n))}}var V1=function(){function t(e,n,r,i){this.waitFor=e,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new z1(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),z1=function(t){p.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.absoluteTimeout=r,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(n){var r=n.withObservable;n._unsubscribeAndRecycle(),n.add(K(r,new G(n)))},e.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,n)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Z);function U1(t,e){return e===void 0&&(e=me),Al(t,oo(new Hu),e)}function q1(t){return t===void 0&&(t=me),De(function(e){return new J1(e,t.now())})}var J1=function(){function t(e,n){this.value=e,this.timestamp=n}return t}();function Q1(t,e,n){return n===0?[e]:(t.push(e),t)}function G1(){return Ci(Q1,[])}function Z1(t){return function(n){return n.lift(new K1(t))}}var K1=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,n){var r=new Y1(e),i=n.subscribe(r);return i.closed||r.add(K(this.windowBoundaries,new G(r))),i},t}(),Y1=function(t){p.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.window=new oe,n.next(r.window),r}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var n=this.window;n&&n.complete();var r=this.destination,i=this.window=new oe;r.next(i)},e}(Z);function X1(t,e){return e===void 0&&(e=0),function(r){return r.lift(new ew(t,e))}}var ew=function(){function t(e,n){this.windowSize=e,this.startWindowEvery=n}return t.prototype.call=function(e,n){return n.subscribe(new tw(e,this.windowSize,this.startWindowEvery))},t}(),tw=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.destination=n,s.windowSize=r,s.startWindowEvery=i,s.windows=[new oe],s.count=0,n.next(s.windows[0]),s}return e.prototype._next=function(n){for(var r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(n);var u=this.count-s+1;if(u>=0&&u%r===0&&!this.closed&&o.shift().complete(),++this.count%r===0&&!this.closed){var l=new oe;o.push(l),i.next(l)}},e.prototype._error=function(n){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(x);function nw(t){var e=me,n=null,r=Number.POSITIVE_INFINITY;return Ce(arguments[3])&&(e=arguments[3]),Ce(arguments[2])?e=arguments[2]:cn(arguments[2])&&(r=Number(arguments[2])),Ce(arguments[1])?e=arguments[1]:cn(arguments[1])&&(n=Number(arguments[1])),function(s){return s.lift(new rw(t,n,r,e))}}var rw=function(){function t(e,n,r,i){this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new sw(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),iw=function(t){p.exports.__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._numberOfNextedValues=0,n}return e.prototype.next=function(n){this._numberOfNextedValues++,t.prototype.next.call(this,n)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(oe),sw=function(t){p.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;a.destination=n,a.windowTimeSpan=r,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:r,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Tl,r,u)),a.add(o.schedule(aw,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:r};a.add(o.schedule(ow,r,d))}return a}return e.prototype._next=function(n){for(var r=this.windows,i=r.length,s=0;s<i;s++){var o=r[s];o.closed||(o.next(n),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(n){for(var r=this.windows;r.length>0;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){for(var n=this.windows;n.length>0;){var r=n.shift();r.closed||r.complete()}this.destination.complete()},e.prototype.openWindow=function(){var n=new iw;this.windows.push(n);var r=this.destination;return r.next(n),n},e.prototype.closeWindow=function(n){n.complete();var r=this.windows;r.splice(r.indexOf(n),1)},e}(x);function ow(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function aw(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,s=n.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:n,window:s,context:a};a.subscription=r.schedule(Tl,e,c),o.add(a.subscription),o.schedule(t,i)}function Tl(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function cw(t,e){return function(n){return n.lift(new uw(t,e))}}var uw=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new lw(e,this.openings,this.closingSelector))},t}(),lw=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.openings=r,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=it(s,r,r)),s}return e.prototype._next=function(n){var r=this.contexts;if(r)for(var i=r.length,s=0;s<i;s++)r[s].window.next(n)},e.prototype._error=function(n){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,s=-1;++s<i;){var o=r[s];o.window.error(n),o.subscription.unsubscribe()}t.prototype._error.call(this,n)},e.prototype._complete=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var s=n[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var s=n[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(n,r,i,s,o){if(n===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(r)}catch(h){return this.error(h)}var u=new oe,l=new Q,d={window:u,subscription:l};this.contexts.push(d);var f=it(this,a,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(n))},e.prototype.notifyError=function(n){this.error(n)},e.prototype.notifyComplete=function(n){n!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(n.context))},e.prototype.closeWindow=function(n){if(n!==-1){var r=this.contexts,i=r[n],s=i.window,o=i.subscription;r.splice(n,1),s.complete(),o.unsubscribe()}},e}(Bt);function dw(t){return function(n){return n.lift(new fw(t))}}var fw=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new hw(e,this.closingSelector))},t}(),hw=function(t){p.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.closingSelector=r,i.openWindow(),i}return e.prototype.notifyNext=function(n,r,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(n){this.openWindow(n)},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(n){n===void 0&&(n=null),n&&(this.remove(n),n.unsubscribe());var r=this.window;r&&r.complete();var i=this.window=new oe;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=it(this,s))},e}(Bt);function pw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){var r;typeof t[t.length-1]=="function"&&(r=t.pop());var i=t;return n.lift(new bw(i,r))}}var bw=function(){function t(e,n){this.observables=e,this.project=n}return t.prototype.call=function(e,n){return n.subscribe(new gw(e,this.observables,this.project))},t}(),gw=function(t){p.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;s.observables=r,s.project=i,s.toRespond=[];var o=r.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=r[a];s.add(it(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(n,r,i){this.values[i]=r;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(n){if(this.toRespond.length===0){var r=[n].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},e.prototype._tryProject=function(n){var r;try{r=this.project.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(Bt);function yw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(rl.apply(void 0,[r].concat(t)))}}function mw(t){return function(e){return e.lift(new il(t))}}const vw=Object.freeze(Object.defineProperty({__proto__:null,audit:Sl,auditTime:vm,buffer:_m,bufferCount:Em,bufferTime:Im,bufferToggle:Nm,bufferWhen:Dm,catchError:Fm,combineAll:Wm,combineLatest:Hm,concat:Vm,concatAll:Qu,concatMap:Cl,concatMapTo:zm,count:Um,debounce:Qm,debounceTime:Km,defaultIfEmpty:ur,delay:rv,delayWhen:av,dematerialize:dv,distinct:pv,distinctUntilChanged:kl,distinctUntilKeyChanged:vv,elementAt:xv,endWith:kv,every:Iv,exhaust:Av,exhaustMap:Il,expand:Dv,filter:vt,finalize:Fv,find:Wv,findIndex:Vv,first:zv,groupBy:Qb,ignoreElements:Uv,isEmpty:Qv,last:Xv,map:De,mapTo:e_,materialize:r_,max:c_,merge:u_,mergeAll:uo,mergeMap:Ot,flatMap:$g,mergeMapTo:l_,mergeScan:d_,min:p_,multicast:Lt,observeOn:ig,onErrorResumeNext:g_,pairwise:v_,partition:S_,pluck:E_,publish:x_,publishBehavior:k_,publishLast:I_,publishReplay:M_,race:R_,reduce:Ci,repeat:A_,repeatWhen:N_,retry:D_,retryWhen:F_,refCount:io,sample:W_,sampleTime:z_,scan:Pr,sequenceEqual:Q_,share:X_,shareReplay:e1,single:n1,skip:s1,skipLast:c1,skipUntil:d1,skipWhile:p1,startWith:y1,subscribeOn:v1,switchAll:E1,switchMap:Hn,switchMapTo:C1,take:Co,takeLast:Dr,takeUntil:x1,takeWhile:M1,tap:T1,throttle:L1,throttleTime:j1,throwIfEmpty:Ei,timeInterval:W1,timeout:U1,timeoutWith:Al,timestamp:q1,toArray:G1,window:Z1,windowCount:X1,windowTime:nw,windowToggle:cw,windowWhen:dw,withLatestFrom:pw,zip:yw,zipAll:mw},Symbol.toStringTag,{value:"Module"})),xo=_t(vw);var xi={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.ClientMessagePublishEvent=Te.ClientMessageSetSessionConfig=Te.ClientMessageGetSessionConfig=Te.ClientMessageIsLinked=Te.ClientMessageHostSession=void 0;function _w(t){return Object.assign({type:"HostSession"},t)}Te.ClientMessageHostSession=_w;function ww(t){return Object.assign({type:"IsLinked"},t)}Te.ClientMessageIsLinked=ww;function Sw(t){return Object.assign({type:"GetSessionConfig"},t)}Te.ClientMessageGetSessionConfig=Sw;function Ew(t){return Object.assign({type:"SetSessionConfig"},t)}Te.ClientMessageSetSessionConfig=Ew;function Cw(t){return Object.assign({type:"PublishEvent"},t)}Te.ClientMessagePublishEvent=Cw;var Nl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=ci,n=xo;var r;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(r=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(r.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(r.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(r.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(r.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,n.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(r.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,n.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Nl);var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.isServerMessageFail=void 0;function xw(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ki.isServerMessageFail=xw;Object.defineProperty(xi,"__esModule",{value:!0});xi.WalletSDKConnection=void 0;const je=ci,L=xo,kn=pn,Ht=zn,In=Te,Mn=fn,wr=Nl,ns=ki,ec=1e4,kw=6e4;class Iw{constructor(e,n,r,i,s=WebSocket){this.sessionId=e,this.sessionKey=n,this.diagnostic=i,this.subscriptions=new je.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ht.IntNumber)(1),this.connectedSubject=new je.BehaviorSubject(!1),this.linkedSubject=new je.BehaviorSubject(!1),this.sessionConfigSubject=new je.ReplaySubject(1);const o=new wr.RxWebSocket(r+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,L.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Mn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:kn.Session.hash(e)})}),(0,L.skip)(1),(0,L.filter)(a=>a===wr.ConnectionState.DISCONNECTED&&!this.destroyed),(0,L.delay)(5e3),(0,L.filter)(a=>!this.destroyed),(0,L.flatMap)(a=>o.connect()),(0,L.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,L.skip)(2),(0,L.switchMap)(a=>(0,je.iif)(()=>a===wr.ConnectionState.CONNECTED,this.authenticate().pipe((0,L.tap)(c=>this.sendIsLinked()),(0,L.tap)(c=>this.sendGetSessionConfig()),(0,L.map)(c=>!0)),(0,je.of)(!1))),(0,L.distinctUntilChanged)(),(0,L.catchError)(a=>(0,je.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,L.skip)(1),(0,L.switchMap)(a=>(0,je.iif)(()=>a===wr.ConnectionState.CONNECTED,(0,je.timer)(0,ec)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,L.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,L.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Mn.EVENTS.LINKED,{sessionIdHash:kn.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,L.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Mn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:kn.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Mn.EVENTS.STARTED_CONNECTING,{sessionIdHash:kn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Mn.EVENTS.DISCONNECTED,{sessionIdHash:kn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,L.filter)(e=>e),(0,L.take)(1),(0,L.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,L.filter)(e=>e),(0,L.take)(1),(0,L.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,L.filter)(e=>{if(e.type!=="Event")return!1;const n=e;return typeof n.sessionId=="string"&&typeof n.eventId=="string"&&typeof n.event=="string"&&typeof n.data=="string"}),(0,L.map)(e=>e))}setSessionMetadata(e,n){const r=(0,In.ClientMessageSetSessionConfig)({id:(0,Ht.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:n}});return this.onceConnected$.pipe((0,L.flatMap)(i=>this.makeRequest(r)),(0,L.map)(i=>{if((0,ns.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,n,r=!1){const i=(0,In.ClientMessagePublishEvent)({id:(0,Ht.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:n,callWebhook:r});return this.onceLinked$.pipe((0,L.flatMap)(s=>this.makeRequest(i)),(0,L.map)(s=>{if((0,ns.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>ec*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,n=kw){const r=e.id;try{this.sendData(e)}catch(i){return(0,je.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,L.timeoutWith)(n,(0,je.throwError)(new Error(`request ${r} timed out`))),(0,L.filter)(i=>i.id===r),(0,L.take)(1))}authenticate(){const e=(0,In.ClientMessageHostSession)({id:(0,Ht.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,L.map)(n=>{if((0,ns.isServerMessageFail)(n))throw new Error(n.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,In.ClientMessageIsLinked)({id:(0,Ht.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,In.ClientMessageGetSessionConfig)({id:(0,Ht.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}xi.WalletSDKConnection=Iw;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.decrypt=ln.encrypt=void 0;const jr=S;async function Mw(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.importKey("raw",(0,jr.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},r,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),d=new Uint8Array([...n,...u,...l]);return(0,jr.uint8ArrayToHex)(d)}ln.encrypt=Mw;function Rw(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((n,r)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,jr.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,jr.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const d=await window.crypto.subtle.decrypt(l,i,u),f=new TextDecoder;n(f.decode(d))}catch(d){r(d)}})()})}ln.decrypt=Rw;var Ii={},Mi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Mi);Object.defineProperty(Ii,"__esModule",{value:!0});Ii.Web3RequestCanceledMessage=void 0;const Aw=Mi;function Tw(t){return{type:Aw.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Ii.Web3RequestCanceledMessage=Tw;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Web3RequestMessage=void 0;const Nw=Mi;function Ow(t){return Object.assign({type:Nw.RelayMessageType.WEB3_REQUEST},t)}Ri.Web3RequestMessage=Ow;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.isWeb3ResponseMessage=dn.Web3ResponseMessage=void 0;const Ol=Mi;function Lw(t){return Object.assign({type:Ol.RelayMessageType.WEB3_RESPONSE},t)}dn.Web3ResponseMessage=Lw;function Dw(t){return t&&t.type===Ol.RelayMessageType.WEB3_RESPONSE}dn.isWeb3ResponseMessage=Dw;var Pw=C&&C.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),jw=C&&C.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ll=C&&C.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fw=C&&C.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Pw(e,t,n);return jw(e,t),e},Bw=C&&C.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});wi.WalletSDKRelay=void 0;const Dl=Bw(Si),Ct=ci,ne=xo,he=fn,$w=xi,Vt=Vn,Ww=zn,z=S,ct=Fw(ln),ut=pn,Sr=$e,ce=Vr,Hw=Ii,Vw=Ri,Re=H,ve=dn;class Be extends Sr.WalletSDKRelayAbstract{constructor(e){var n;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Ct.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Ct.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:r,ui:i,connection:s}=this.subscribe();if(this._session=r,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(n=e.reloadOnDisconnect)!==null&&n!==void 0?n:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=ut.Session.load(this.storage)||new ut.Session(this.storage).save(),n=new $w.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(n.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(n.incomingEvent$.pipe((0,ne.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(n.linked$.pipe((0,ne.skip)(1),(0,ne.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Sr.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(he.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(n.sessionConfig$.pipe((0,ne.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=n.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(n.sessionConfig$.pipe((0,ne.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,ne.mergeMap)(i=>ct.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Sr.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ne.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,ne.mergeMap)(i=>ct.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Sr.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ne.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,ne.mergeMap)(i=>(0,Ct.zip)(ct.decrypt(i.metadata.ChainId,e.secret),ct.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,ne.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ne.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,ne.mergeMap)(i=>ct.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Be.accountRequestCallbackIds.size>0&&(Array.from(Be.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,ve.Web3ResponseMessage)({id:s,response:(0,Re.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Be.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ne.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,ne.mergeMap)(i=>ct.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const r=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:n.connected$,chainId$:this.dappDefaultChainSubject});return n.connect(),{session:e,ui:r,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,ne.timeout)(1e3),(0,ne.catchError)(e=>(0,Ct.of)(null))).subscribe(e=>{var n,r,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(n=this.diagnostic)===null||n===void 0||n.log(he.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(r=this.diagnostic)===null||r===void 0||r.log(he.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=ut.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(he.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:ut.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Ct.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(he.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,n){this.appName=e,this.appLogoUrl=n}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,n){this.storage.setItem(e,n)}signEthereumMessage(e,n,r,i){return this.sendRequest({method:ce.Web3Method.signEthereumMessage,params:{message:(0,z.hexStringFromBuffer)(e,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,n,r){return this.sendRequest({method:ce.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,z.hexStringFromBuffer)(e,!0),signature:(0,z.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:ce.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,z.bigIntStringFromBN)(e.weiValue),data:(0,z.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,z.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,z.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,z.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,z.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ce.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,z.bigIntStringFromBN)(e.weiValue),data:(0,z.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,z.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,z.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,z.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,z.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:ce.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,z.hexStringFromBuffer)(e,!0),chainId:n}})}scanQRCode(e){return this.sendRequest({method:ce.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,z.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,n){return this.sendRequest({method:ce.Web3Method.generic,params:{action:n,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const r=(0,z.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o),n==null||n()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,c=>{if(n==null||n(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,n){var r;const i=(0,Vw.Web3RequestMessage)({id:e,request:n}),s=ut.Session.load(this.storage);(r=this.diagnostic)===null||r===void 0||r.log(he.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?ut.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(he.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?ut.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const n=(0,Hw.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",n,!1).subscribe())}publishEvent(e,n,r){const i=this.session.secret;return new Ct.Observable(s=>{ct.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,ne.mergeMap)(s=>this.connection.publishEvent(e,s,r)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Ct.from)(ct.decrypt(e.data,this.session.secret)).pipe((0,ne.map)(n=>JSON.parse(n))).subscribe({next:n=>{const r=(0,ve.isWeb3ResponseMessage)(n)?n:null;!r||this.handleWeb3ResponseMessage(r)},error:()=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(he.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var n;const{response:r}=e;if((n=this.diagnostic)===null||n===void 0||n.log(he.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Re.isRequestEthereumAccountsResponse)(r)){Be.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Be.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,n,r,i){var s;const o=(s=r==null?void 0:r.message)!==null&&s!==void 0?s:(0,Vt.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:e,response:{method:n,errorMessage:o,errorCode:i}}))}invokeCallback(e){const n=this.relayEventManager.callbacks.get(e.id);n&&(n(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ce.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,z.randomBytesHex)(8),r=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(n,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,z.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:n,response:(0,Re.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:u})}else{const u=Vt.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(u)})}Be.accountRequestCallbackIds.add(n),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(n,e)}),cancel:r}}selectProvider(e){const n={method:ce.Web3Method.selectProvider,params:{providerOptions:e}},r=(0,z.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,n.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(r,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:r,response:(0,Re.SelectProviderResponse)(Ww.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:r,response:(0,Re.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,n,r,i,s,o){const a={method:ce.Web3Method.watchAsset,params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let c=null;const u=(0,z.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const d=new Promise((f,h)=>{this.relayEventManager.callbacks.set(u,y=>{if(c==null||c(),y.errorMessage)return h(new Error(y.errorMessage));f(y)});const g=y=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:u,response:(0,Re.WatchAssetReponse)(!1)}))},w=()=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:u,response:(0,Re.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:w,onCancel:g,type:e,address:n,symbol:r,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:d}}addEthereumChain(e,n,r,i,s,o){const a={method:ce.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let c=null;const u=(0,z.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,h)=>{this.relayEventManager.callbacks.set(u,y=>{if(c==null||c(),y.errorMessage)return h(new Error(y.errorMessage));f(y)});const g=y=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:u,response:(0,Re.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},w=y=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:u,response:(0,Re.AddEthereumChainResponse)({isApproved:!0,rpcUrl:y})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:g,onApprove:w,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,n){const r={method:ce.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:n})},i=(0,z.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,d=>{if((0,Re.isErrorResponse)(d)&&d.errorCode)return c(Vt.standardErrors.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(d.errorMessage)return c(new Error(d.errorMessage));a(d)});const u=d=>{var f;if(d){const h=(f=(0,Vt.getErrorCode)(d))!==null&&f!==void 0?f:Vt.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ce.Web3Method.switchEthereumChain,d instanceof Error?d:Vt.standardErrors.provider.unsupportedChain(e),h)}else this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:i,response:(0,Re.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=d=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:i,response:(0,Re.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:d})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:r.params.chainId,address:r.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,r)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return ut.Session.hash(this._session.id)}sendRequestStandalone(e,n){const r=s=>{this.handleErrorResponse(e,n.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,ve.Web3ResponseMessage)({id:e,response:s}))};switch(n.method){case ce.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:n,onSuccess:i,onCancel:r});break;case ce.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case ce.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case ce.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:n,onSuccess:i});break;default:r();break}}onSessionConfigChanged(e){}}Be.accountRequestCallbackIds=new Set;Ll([Dl.default],Be.prototype,"resetAndReload",null);Ll([Dl.default],Be.prototype,"handleIncomingEvent",null);wi.WalletSDKRelay=Be;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.WalletSDKRelayEventManager=void 0;const zw=S;class Uw{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=(0,zw.prepend0x)(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}Ai.WalletSDKRelayEventManager=Uw;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.CoinbaseWalletSDK=void 0;const qw=Br,Jw=$r,Qw=Wr,Gw=Kt,Zw=ii,Kw=wi,Yw=Ai,Xw=S,Pl=hn;class Ti{constructor(e){var n,r,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||Jw.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new Zw.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this._overrideIsCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new Qw.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Ti.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new Yw.WalletSDKRelayEventManager,this._relay=new Kw.WalletSDKRelay({linkAPIUrl:s,version:Pl.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",n=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,n),this._reloadOnDisconnect===!1&&typeof r.disableReloadOnDisconnect=="function"&&r.disableReloadOnDisconnect(),r;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new Gw.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:n,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,n){var r;this._appName=e||"DApp",this._appLogoUrl=n||(0,Xw.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(r=this._relay)===null||r===void 0||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const n=this.walletExtension;n?n.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,n;return(n=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&n!==void 0?n:null}getCoinbaseWalletLogo(e,n=240){return(0,qw.walletLogo)(e,n)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,n;try{const r=(e=window.ethereum)!==null&&e!==void 0?e:(n=window.top)===null||n===void 0?void 0:n.ethereum;return r&&"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Pn.CoinbaseWalletSDK=Ti;Ti.VERSION=Pl.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Pn,n=Kt;var r=Pn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}});var i=Kt;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=n.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=n.CoinbaseWalletProvider)})(ks);const eS=Vl(ks),sS=Jl({__proto__:null,default:eS},[ks]);export{sS as i};
